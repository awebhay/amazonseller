{"version":3,"sources":["ga-context.tsx","constants.ts","hooks.ts","ui/atoms/page-content/index.tsx","user-context.tsx","banners/ids.ts","document/hooks.ts","document/preloading.tsx","ui/molecules/search/index.tsx","document/ingredients/utils.tsx","document/ingredients/prose.tsx","document/lazy-bcd-table.tsx","ui/molecules/breadcrumbs/index.tsx","ui/molecules/language-toggle/index.tsx","document/organisms/toc/index.tsx","document/organisms/sidebar/index.tsx","ui/molecules/language-menu/index.tsx","document/on-github.tsx","document/organisms/metadata/index.tsx","assets/dino.svg","document/index.tsx","ui/molecules/blog-feed/index.tsx","ui/molecules/home-contribute/index.tsx","ui/molecules/home-hero/index.tsx","homepage/index.tsx","ui/molecules/a11y-nav/index.tsx","assets/logo.svg","ui/atoms/logo/index.tsx","ui/organisms/footer/index.tsx","ui/molecules/dropdown/index.tsx","utils/auth-link.ts","ui/atoms/signin-link/index.tsx","ui/molecules/login/index.tsx","ui/molecules/main-menu/index.tsx","ui/organisms/header/index.tsx","site-search/index.tsx","page-not-found/index.tsx","banners/index.tsx","auth/index.tsx","settings/index.tsx","app.tsx","index.tsx"],"names":["CATEGORY_LEARNING_SURVEY","GA_SESSION_STORAGE_KEY","getPostponedEvents","value","sessionStorage","getItem","e","JSON","parse","stringify","ga","window","GAContext","React","GAProvider","props","useEffect","events","removeItem","Provider","children","useGA","useContext","DISABLE_AUTH","process","REACT_APP_DISABLE_AUTH","CRUD_MODE","REACT_APP_CRUD_MODE","CRUD_MODE_READONLY","REACT_APP_CRUD_MODE_READONLY","AUTOCOMPLETE_SEARCH_WIDGET","REACT_APP_AUTOCOMPLETE_SEARCH_WIDGET","DEBUG_SEARCH_RESULTS","REACT_APP_DEBUG_SEARCH_RESULTS","VALID_LOCALES","Set","useLocale","locale","useParams","has","MainContentContainer","className","id","role","PageContentContainer","extraClasses","UserDataContext","UserDataProvider","data","useSWR","url","a","fetch","response","ok","Error","status","json","username","isAuthenticated","is_authenticated","isBetaTester","is_beta_tester","isStaff","is_staff","isSuperuser","is_super_user","avatarUrl","avatar_url","isSubscriber","is_subscriber","subscriberNumber","subscriber_number","email","waffle","useUserData","COMMON_SURVEY_ID","useDocumentURL","slug","endsWith","substring","length","prefetches","preload","prefetcher","document","createElement","rel","href","head","appendChild","add","_isSupported","preloadSupported","prefetchElement","Boolean","relList","supports","IntersectionObserver","IntersectionObserverEntry","prototype","PreloadingDocumentLink","onMouseOver","event","to","LazySearchNavigateWidget","lazy","Search","useState","useAutocompleteSearchWidget","setUseAutocompleteSearchWidget","fallback","BasicSearchWidget","action","htmlFor","type","name","placeholder","pattern","required","aria-label","DisplayH2","title","titleAsText","toLowerCase","Permalink","DisplayH3","dangerouslySetInnerHTML","__html","Prose","section","content","ProseWithHeading","isH3","BrowserCompatibilityTable","isServer","LazyBrowserCompatibilityTable","query","dataURL","LazyBrowserCompatibilityTableInner","bcdDataURL","setBCDDataURL","text","revalidateOnFocus","error","Loading","Breadcrumbs","parents","typeof","vocab","map","parent","i","currentCrumb","isLast","isPenultimate","property","uri","LanguageToggle","translations","pathname","useLocation","onClick","destination","querySelector","scrollIntoView","behavior","preventDefault","hitType","eventCategory","eventAction","eventLabel","location","translation","destinationLocale","translationURL","replace","getEnglishLink","TOC","toc","showTOC","setShowTOC","target","HTMLAnchorElement","textContent","label","URL","hash","aria-controls","aria-expanded","undefined","item","SidebarContainer","RenderSideBar","doc","related_content","node","SidebarLeaf","sidebarHTML","SidebarLeaflets","open","childNode","isActive","LanguageMenu","native","navigate","useNavigate","preferredLocale","setPreferredLocale","onSubmit","localeURL","cookieValue","hostname","cookie","scrollTo","onChange","t","OnGitHubLink","SourceOnGitHubLink","NewIssueOnGitHubLink","source","github_url","folder","NEW_ISSUE_TEMPLATE","trim","CONTENT_LABELS_PREFIXES","sp","URLSearchParams","last_commit_url","body","mdn_url","modified","Date","toISOString","set","titleShort","slice","split","contentLabel","prefix","startsWith","toString","LastModified","date","dateTime","toLocaleString","year","month","day","Metadata","other_translations","_extends","Object","assign","arguments","key","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","SvgDino","_ref","svgRef","titleId","xmlns","viewBox","ref","ForwardRef","Toolbar","Document","mountCounter","useRef","documentURL","redirected","initialData","pageTitle","current","DOMException","LoadingDocumentPlaceholder","LoadingError","isArchive","isTranslated","Archived","isPreview","Suspense","reloadPage","mutate","lang","RenderDocumentBody","PROSE_NO_HEADING","includes","console","warn","Response","statusText","BlogFeed","feedEntries","feedEntry","summary","pubDate","creator","Contribute","HomeHero","Homepage","A11yNav","sendAccessMenuItemClick","onContextMenu","SvgLogo","Logo","mode","fill","Footer","getFullYear","Dropdown","showDropdownMenu","setShowDropdownMenu","addEventListener","componentClassName","aria-haspopup","aria-owns","ariaOwns","ariaLabel","onFocus","hideArrow","aria-hidden","right","getAuthURL","appendNext","next","SignInLink","REACT_APP_USE_YARI_SIGNIN","avatarImage","Login","LoginInner","userData","src","alt","viewProfileURL","editProfileURL","signOutURL","method","MainMenu","toggleMainMenu","previousActiveElement","mainMenuRef","visibleSubMenuId","setVisibleSubMenuId","focusedSubmenuItemIndex","setFocusedSubmenuItemIndex","submenuCollapsedOnBlurId","setSubmenuCollapsedOnBlurId","sendMenuItemInteraction","HTMLElement","hideSubMenuIfVisible","onMenuButtonFocus","mainMenu","classList","remove","focus","menus","items","external","onGithubElement","menuEntry","onKeyDown","itemCount","onSubmenuKeydown","expandedState","activeElement","toggleSubMenu","aria-labelledby","index","onBlur","submenuId","setTimeout","tabIndex","Header","showMainMenu","setShowMainMenu","mainMenuToggleRef","pageOverlay","mainMenuButton","toggle","onResultPicked","SiteSearchForm","SearchResults","SiteSearch","useSearchParams","searchParams","get","page","FallbackLink","PageNotFound","setURL","ActiveBanner","Banner","flags","switches","localStorage","parseInt","now","isEmbargoed","onDismissed","days","setItem","String","Math","round","setEmbargoed","SignInApp","SignUpApp","Container","SignIn","SignUp","SettingsApp","Settings","AllFlaws","DocumentEdit","DocumentCreate","DocumentManage","WritersHomepage","Sitemap","Layout","pageType","StandardLayout","DocumentLayout","PageOrPageNotFound","pageNotFound","notFound","setNotFound","initialPathname","LoadingFallback","message","style","minHeight","App","appProps","homePage","routes","path","element","container","getElementById","docData","__data__","__pageNotFound__","__feedEntries__","possibleLocales","__possibleLocales__","app","StrictMode","firstElementChild","origin","ReactDOM","hydrate","render"],"mappings":"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","file":"static/js/main.fc98b80a.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\n\nexport type GAFunction = (...any) => void;\n\nexport const CATEGORY_LEARNING_SURVEY = \"learning web development\";\n\nconst GA_SESSION_STORAGE_KEY = \"ga\";\n\nfunction getPostponedEvents() {\n  let value;\n  try {\n    value = sessionStorage.getItem(GA_SESSION_STORAGE_KEY);\n  } catch (e) {\n    // No sessionStorage support\n    return [];\n  }\n  return JSON.parse(value || JSON.stringify([]));\n}\n\n/**\n * Saves given events into sessionStorage so that they are sent once the next\n * page has loaded. This should be used for events that need to be sent without\n * delaying navigation to a new page (which would cancel pending network\n * requests).\n */\nexport function gaSendOnNextPage(newEvents: any[]) {\n  const events = getPostponedEvents();\n  const value = JSON.stringify(events.concat(newEvents));\n  try {\n    sessionStorage.setItem(GA_SESSION_STORAGE_KEY, value);\n  } catch (e) {\n    // No sessionStorage support\n  }\n}\n\ndeclare global {\n  interface Window {\n    ga?: Function;\n  }\n}\n\nfunction ga(...args) {\n  if (typeof window === \"object\" && typeof window.ga === \"function\") {\n    window.ga(...args);\n  }\n}\n\nconst GAContext = React.createContext<GAFunction>(ga);\n\n/**\n * If we're running in the browser (not being server-side rendered)\n * and if the HTML document includes the Google Analytics snippet that\n * defines the ga() function, then this provider component makes that\n * ga() function available to any component via:\n *\n *    let ga = useContext(GAProvider.context)\n *\n * If we're not in a browser or if google analytics is not enabled,\n * then we provide a dummy function that ignores its arguments and\n * does nothing.  The idea is that components can always safely call\n * the function provided by this component.\n */\nexport function GAProvider(props: { children: React.ReactNode }) {\n  /**\n   * Checks for the existence of postponed analytics events, which we store\n   * in sessionStorage. It also clears them so that they aren't sent again.\n   */\n  useEffect(() => {\n    const events = getPostponedEvents();\n    try {\n      sessionStorage.removeItem(GA_SESSION_STORAGE_KEY);\n    } catch (e) {\n      // No sessionStorage support\n    }\n    for (const event of events) {\n      ga(\"send\", event);\n    }\n  }, []);\n\n  return <GAContext.Provider value={ga}>{props.children}</GAContext.Provider>;\n}\n\n// This is a custom hook to return the GA client id. It returns the\n// empty string until (and unless) it can determine that id from the GA object.\nexport function useClientId() {\n  const [clientId, setClientId] = useState<string>(\"\");\n  const ga = useContext(GAContext);\n  useEffect(() => {\n    ga((tracker) => {\n      setClientId(tracker.get(\"clientId\"));\n    });\n  }, [ga]);\n\n  return clientId;\n}\n\nexport function useGA() {\n  return useContext(GAContext);\n}\n","export const DISABLE_AUTH = JSON.parse(\n  process.env.REACT_APP_DISABLE_AUTH || \"false\"\n);\n\nexport const CRUD_MODE = JSON.parse(\n  process.env.REACT_APP_CRUD_MODE ||\n    JSON.stringify(process.env.NODE_ENV === \"development\")\n);\n\nexport const CRUD_MODE_READONLY = JSON.parse(\n  process.env.REACT_APP_CRUD_MODE_READONLY || \"false\"\n);\n\nexport const AUTOCOMPLETE_SEARCH_WIDGET = JSON.parse(\n  process.env.REACT_APP_AUTOCOMPLETE_SEARCH_WIDGET || JSON.stringify(CRUD_MODE)\n);\n\n// You can read more about this in `docs/debugging-sitesearch.md`.\nexport const DEBUG_SEARCH_RESULTS = JSON.parse(\n  process.env.REACT_APP_DEBUG_SEARCH_RESULTS || \"false\"\n);\n\n// Remember to keep this in sync with the list inside the Node code.\n// E.g. libs/constants.js\n// Hardcoding the list in both places is most convenient and most performant.\n// We could encode the list in the SSR rendering but that means the client side\n// code needs to depend on having access to the `window` global first.\nexport const VALID_LOCALES = new Set([\n  \"ar\",\n  \"bg\",\n  \"bn\",\n  \"ca\",\n  \"de\",\n  \"el\",\n  \"en-US\",\n  \"es\",\n  \"fa\",\n  \"fi\",\n  \"fr\",\n  \"he\",\n  \"hi-IN\",\n  \"hu\",\n  \"id\",\n  \"it\",\n  \"ja\",\n  \"kab\",\n  \"ko\",\n  \"ms\",\n  \"my\",\n  \"nl\",\n  \"pl\",\n  \"pt-BR\",\n  \"pt-PT\",\n  \"ru\",\n  \"sv-SE\",\n  \"th\",\n  \"tr\",\n  \"uk\",\n  \"vi\",\n  \"zh-CN\",\n  \"zh-TW\",\n]);\n","import { useParams } from \"react-router-dom\";\n\n// This is a bit of a necessary hack!\n// The only reason this list is needed is because of the PageNotFound rendering.\n// If someone requests `https://domain/some-random-word` what will happen is that\n// Lambda@Edge will send the `build/en-us/_spas/404.html` rendered page. That\n// rendered page has all the React stuff like routing.\n// The <App/> component can know what it needs to render but what's problematic\n// is that all and any other app will think that the locale is `some-random-word`\n// just because it's the first portion of the URL.\n// So, for example, the top navbar will think it can use the `useLocale()` hook\n// and get the current locale from the react-router context. Now the navbar menu\n// items, for example, will think the locale is `some-random-word` and make links\n// like `/some-random-word/docs/Web`.\nimport { VALID_LOCALES } from \"./constants\";\n\nexport function useLocale() {\n  const { locale } = useParams();\n  return locale && VALID_LOCALES.has(locale) ? locale : \"en-US\";\n}\n","import React from \"react\";\n\n// What we use on the document pages\nexport function MainContentContainer({\n  children,\n  className = \"main-content\",\n}: {\n  children: React.ReactNode;\n  className?: string;\n}) {\n  return (\n    <main\n      // This exists for the benefit of a11y navigation which\n      // uses anchor links to focus in on the content.\n      id=\"content\"\n      className={className}\n      role=\"main\"\n    >\n      {children}\n    </main>\n  );\n}\n\n// What we use on almost all pages\nexport function PageContentContainer({\n  children,\n  extraClasses,\n}: {\n  children: React.ReactNode;\n  extraClasses?: string;\n}) {\n  return (\n    <MainContentContainer\n      className={`page-content-container ${extraClasses ? extraClasses : \"\"}`}\n    >\n      {children}\n    </MainContentContainer>\n  );\n}\n","import * as React from \"react\";\nimport useSWR from \"swr\";\n\nimport { DISABLE_AUTH } from \"./constants\";\n\nexport type UserData = {\n  username: string | null | undefined;\n  isAuthenticated: boolean;\n  isBetaTester: boolean;\n  isContributor?: boolean; // This is not implemented on backend yet\n  isStaff: boolean;\n  isSuperuser: boolean;\n  avatarUrl: string | null | undefined;\n  isSubscriber: boolean;\n  subscriberNumber: number | null | undefined;\n  email: string | null | undefined;\n  waffle: {\n    flags: {\n      [flag_name: string]: boolean;\n    };\n    switches: {\n      [switch_name: string]: boolean;\n    };\n    samples: {\n      [sample_name: string]: boolean;\n    };\n  };\n};\n\nconst UserDataContext = React.createContext<UserData | null>(null);\n\nexport function UserDataProvider(props: { children: React.ReactNode }) {\n  const { data } = useSWR<UserData | null, Error | null>(\n    DISABLE_AUTH ? null : \"/api/v1/whoami\",\n    async (url) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`${response.status} on ${response.url}`);\n      }\n      const data = await response.json();\n      return {\n        username: data.username || null,\n        isAuthenticated: data.is_authenticated || false,\n        isBetaTester: data.is_beta_tester || false,\n        isStaff: data.is_staff || false,\n        isSuperuser: data.is_super_user || false,\n        avatarUrl: data.avatar_url || null,\n        isSubscriber: data.is_subscriber || false,\n        subscriberNumber: data.subscriber_number || null,\n        email: data.email || null,\n        // NOTE: if we ever decide that waffle data should\n        // be re-fetched on client-side navigation, we'll\n        // have to create a separate context for it.\n        waffle: data.waffle,\n      };\n    }\n  );\n\n  return (\n    <UserDataContext.Provider value={data || null}>\n      {props.children}\n    </UserDataContext.Provider>\n  );\n}\n\nexport function useUserData() {\n  return React.useContext(UserDataContext);\n}\n","export const COMMON_SURVEY_ID = \"common_survey_banner\";\n","import { useParams } from \"react-router-dom\";\n\nexport function useDocumentURL() {\n  const { \"*\": slug, locale } = useParams();\n  const url = `/${locale}/docs/${slug}`;\n  // If you're in local development Express will force the trailing /\n  // on any URL. We can't keep that if we're going to compare the current\n  // pathname with the document's mdn_url.\n  return url.endsWith(\"/\") ? url.substring(0, url.length - 1) : url;\n}\n","import { Link, LinkProps } from \"react-router-dom\";\n\nconst prefetches = new Set<string>();\n\nexport function preload(url: string) {\n  if (prefetches.has(url)) {\n    return;\n  }\n\n  const prefetcher = document.createElement(\"link\");\n  prefetcher.rel = \"prefetch\";\n  prefetcher.href = url;\n  document.head.appendChild(prefetcher);\n\n  prefetches.add(url);\n}\n\nlet _isSupported: boolean | null = null;\nexport function preloadSupported() {\n  if (_isSupported !== null) return _isSupported;\n\n  const prefetchElement = document.createElement(\"link\");\n  _isSupported = Boolean(\n    prefetchElement.relList &&\n      prefetchElement.relList.supports &&\n      prefetchElement.relList.supports(\"prefetch\") &&\n      window.IntersectionObserver &&\n      \"isIntersecting\" in IntersectionObserverEntry.prototype\n  );\n  return _isSupported;\n}\n\nexport function PreloadingDocumentLink(props: LinkProps) {\n  return (\n    <Link\n      {...props}\n      onMouseOver={(event) => {\n        if (preloadSupported()) {\n          preload(`${props.to}/index.json`);\n        }\n        if (props.onMouseOver) {\n          props.onMouseOver(event);\n        }\n      }}\n    >\n      {props.children}\n    </Link>\n  );\n}\n","import React, { Suspense, lazy, useEffect, useState } from \"react\";\n\nimport { AUTOCOMPLETE_SEARCH_WIDGET } from \"../../../constants\";\nimport { useLocale } from \"../../../hooks\";\n\nimport \"./index.scss\";\n\n// The temporary solution... See below around the BasicSearchWidget component.\nimport \"./basic-search-widget.scss\";\n// import { SearchNavigateWidget } from \"../../../search\";\nconst LazySearchNavigateWidget = lazy(() => import(\"./lazy-search-widget\"));\n\nexport function Search(props) {\n  const [\n    useAutocompleteSearchWidget,\n    setUseAutocompleteSearchWidget,\n  ] = useState(false);\n  useEffect(() => {\n    if (AUTOCOMPLETE_SEARCH_WIDGET) {\n      setUseAutocompleteSearchWidget(true);\n    }\n  }, []);\n\n  return (\n    <div className=\"header-search\">\n      {/* See the code comment next to the <BasicSearchWidget> component */}\n      {useAutocompleteSearchWidget ? (\n        <Suspense fallback={<BasicSearchWidget />}>\n          <LazySearchNavigateWidget {...props} />\n        </Suspense>\n      ) : (\n        <BasicSearchWidget />\n      )}\n    </div>\n  );\n}\n\n// This is a TEMPORARY solution.\n// In the Yari1 launch we want to disable the auto-complete search that Yari has.\n// Instead we want it to look and behave just like the search widget you get\n// on the Kuma pages.\n// The general idea is that we keep it like this for the period of time when\n// the home page and site-search pages are still rendered in Kuma.\n// Once all pages come from Yari, we'll get rid of this.\n// For more context and discussion see https://github.com/mdn/yari/issues/1663\n\nexport function BasicSearchWidget() {\n  const locale = useLocale();\n  return (\n    <form action={`/${locale}/search`} className=\"search-form\" role=\"search\">\n      <label htmlFor=\"main-q\" className=\"visually-hidden\">\n        Search MDN\n      </label>\n      <input\n        type=\"search\"\n        name=\"q\"\n        id=\"main-q\"\n        className=\"search-input-field\"\n        placeholder=\"Search MDN\"\n        pattern=\"(.|\\s)*\\S(.|\\s)*\"\n        required\n      />\n      <input\n        type=\"submit\"\n        className=\"ghost search-button\"\n        value=\"\"\n        aria-label=\"Search\"\n      />\n    </form>\n  );\n}\n","export function DisplayH2({\n  id,\n  title,\n  titleAsText,\n}: {\n  id: string;\n  title: string;\n  titleAsText?: string;\n}) {\n  return (\n    <h2 id={id.toLowerCase()}>\n      <Permalink title={title} titleAsText={titleAsText} id={id} />\n    </h2>\n  );\n}\n\nexport function DisplayH3({\n  id,\n  title,\n  titleAsText,\n}: {\n  id: string;\n  title: string;\n  titleAsText?: string;\n}) {\n  return (\n    <h3 id={id.toLowerCase()}>\n      <Permalink title={title} titleAsText={titleAsText} id={id} />\n    </h3>\n  );\n}\n\nfunction Permalink({\n  id,\n  title,\n  titleAsText,\n}: {\n  id: string;\n  title: string;\n  titleAsText?: string;\n}) {\n  return (\n    <a\n      href={`#${id.toLowerCase()}`}\n      title={`Permalink to ${titleAsText || title}`}\n      dangerouslySetInnerHTML={{ __html: title }}\n    ></a>\n  );\n}\n","import { DisplayH2, DisplayH3 } from \"./utils\";\n\nexport function Prose({ section }) {\n  return <div dangerouslySetInnerHTML={{ __html: section.content }} />;\n}\n\nexport function ProseWithHeading({ id, section }) {\n  return (\n    <>\n      {section.isH3 ? (\n        <DisplayH3\n          id={id}\n          title={section.title}\n          titleAsText={section.titleAsText}\n        />\n      ) : (\n        <DisplayH2\n          id={id}\n          title={section.title}\n          titleAsText={section.titleAsText}\n        />\n      )}\n      <Prose section={section} />\n    </>\n  );\n}\n","import React, { lazy, Suspense, useEffect, useState } from \"react\";\nimport useSWR from \"swr\";\n\nimport { DisplayH2, DisplayH3 } from \"./ingredients/utils\";\n\n// Because it's bad for web performance to lazy-load CSS during the initial render\n// (because the page is saying \"Wait! Stop rendering, now that I've downloaded\n// some JS I decided I need more CSSOM to block the rendering.\")\n// Therefore, we import all the necessary CSS here in this file so that\n// the BCD table CSS becomes part of the core bundle.\n// That means that when the lazy-loading happens, it only needs to lazy-load\n// the JS (and the JSON XHR fetch of course)\nimport \"./ingredients/browser-compatibility-table/index.scss\";\nimport { useLocale } from \"../hooks\";\n\nconst BrowserCompatibilityTable = lazy(\n  () => import(\"./ingredients/browser-compatibility-table\")\n);\n\nconst isServer = typeof window === \"undefined\";\n\nexport function LazyBrowserCompatibilityTable({\n  id,\n  title,\n  isH3,\n  query,\n  dataURL,\n}: {\n  id: string;\n  title: string;\n  isH3: boolean;\n  query: string;\n  dataURL: string | null;\n}) {\n  return (\n    <>\n      {title && !isH3 && <DisplayH2 id={id} title={title} />}\n      {title && isH3 && <DisplayH3 id={id} title={title} />}\n      {dataURL ? (\n        <LazyBrowserCompatibilityTableInner dataURL={dataURL} />\n      ) : (\n        <div className=\"notecard warning\">\n          <p>\n            No compatibility data found for <code>{query}</code>.<br />\n            <a href=\"#on-github\">Check for problems with this page</a> or\n            contribute missing data to{\" \"}\n            <a href=\"https://github.com/mdn/browser-compat-data\">\n              mdn/browser-compat-data\n            </a>\n            .\n          </p>\n        </div>\n      )}\n    </>\n  );\n}\n\nfunction LazyBrowserCompatibilityTableInner({ dataURL }: { dataURL: string }) {\n  const locale = useLocale();\n  const [bcdDataURL, setBCDDataURL] = useState(\"\");\n\n  const { error, data } = useSWR(\n    bcdDataURL ? bcdDataURL : null,\n    async (url) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(await response.text());\n      }\n      return await response.json();\n    },\n    { revalidateOnFocus: false }\n  );\n\n  useEffect(() => {\n    setBCDDataURL(dataURL);\n  }, [dataURL]);\n\n  if (isServer) {\n    return <p>BCD tables only load in the browser</p>;\n  }\n  if (!data && !error) {\n    return <Loading />;\n  }\n  if (error) {\n    return <p>Error loading BCD data</p>;\n  }\n\n  return (\n    <Suspense fallback={<Loading />}>\n      <BrowserCompatibilityTable locale={locale} {...data} />\n    </Suspense>\n  );\n}\n\nfunction Loading() {\n  return <p>Loading BCD table...</p>;\n}\n","import { DocParent } from \"../../../document/types\";\nimport { PreloadingDocumentLink } from \"../../../document/preloading\";\n\nimport \"./index.scss\";\n\nexport function Breadcrumbs({ parents }: { parents: DocParent[] }) {\n  if (!parents.length) {\n    throw new Error(\"Empty parents array\");\n  }\n\n  return (\n    <nav className=\"breadcrumbs-container\" aria-label=\"Breadcrumb navigation\">\n      <ol\n        typeof=\"BreadcrumbList\"\n        vocab=\"https://schema.org/\"\n        aria-label=\"breadcrumbs\"\n      >\n        {parents.map((parent, i) => {\n          const currentCrumb = i + 1;\n          const isLast = currentCrumb === parents.length;\n          const isPenultimate = currentCrumb === parents.length - 1;\n\n          return (\n            <li key={parent.uri} property=\"itemListElement\" typeof=\"ListItem\">\n              <PreloadingDocumentLink\n                to={parent.uri}\n                className={\n                  isLast\n                    ? \"breadcrumb-current-page\"\n                    : isPenultimate\n                    ? \"breadcrumb-penultimate\"\n                    : \"breadcrumb\"\n                }\n                property=\"item\"\n                typeof=\"WebPage\"\n              >\n                <span property=\"name\">{parent.title}</span>\n              </PreloadingDocumentLink>\n              <meta property=\"position\" content={`${currentCrumb}`} />\n            </li>\n          );\n        })}\n      </ol>\n    </nav>\n  );\n}\n","import { Link, useLocation } from \"react-router-dom\";\n\nimport { Translation } from \"../../../document/types\";\nimport { useGA } from \"../../../ga-context\";\n\nimport \"./index.scss\";\n\nexport function LanguageToggle({\n  locale,\n  translations,\n}: {\n  locale: string;\n  translations: Translation[];\n}) {\n  const ga = useGA();\n  const { pathname } = useLocation();\n  function translateURL(destinationLocale: string) {\n    return pathname.replace(`/${locale}/`, `/${destinationLocale}/`);\n  }\n\n  function getEnglishLink() {\n    for (const translation of translations) {\n      if (translation.locale.toLowerCase() === \"en-us\") {\n        const translationURL = translateURL(translation.locale);\n        return (\n          <Link\n            to={translationURL}\n            className=\"view-in-english\"\n            onClick={() => {\n              ga(\"send\", {\n                hitType: \"event\",\n                eventCategory: \"Language\",\n                eventAction: \"Switch to English\",\n                eventLabel: `${window.location.pathname} to ${translationURL}`,\n              });\n            }}\n          >\n            <span className=\"show-desktop\">View in</span> English\n          </Link>\n        );\n      }\n    }\n    return null;\n  }\n\n  return (\n    <ul\n      className={\n        locale.toLowerCase() === \"en-us\"\n          ? \"language-toggle single-option\"\n          : \"language-toggle\"\n      }\n    >\n      <li>\n        <a\n          href=\"#select-language\"\n          className=\"language-icon\"\n          onClick={(event) => {\n            const destination = document.querySelector(\"#select-language\");\n            if (destination) {\n              destination.scrollIntoView({ behavior: \"smooth\" });\n              event.preventDefault();\n            }\n\n            ga(\"send\", {\n              hitType: \"event\",\n              eventCategory: \"Language\",\n              eventAction: \"Anchor to language choice\",\n              eventLabel: window.location.pathname,\n            });\n          }}\n        >\n          <span className=\"show-desktop\">Change language</span>\n        </a>\n      </li>\n      {locale.toLowerCase() !== \"en-us\" && <li>{getEnglishLink()}</li>}\n    </ul>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useGA } from \"../../../ga-context\";\n\nimport { Toc } from \"../../types\";\n\nimport \"./index.scss\";\n\nexport function TOC({ toc }: { toc: Toc[] }) {\n  const ga = useGA();\n  const [showTOC, setShowTOC] = useState(false);\n\n  /**\n   * Send a signal to GA when the user clicks on one of links\n   * in the table of contents\n   */\n  function sendTOCClicks(event: React.MouseEvent) {\n    if (event.target instanceof HTMLAnchorElement) {\n      const action = event.target.textContent;\n      const label = new URL(event.target.href).hash;\n      ga(\"send\", {\n        hitType: \"event\",\n        eventCategory: \"MozMenu\",\n        eventAction: action,\n        eventLabel: label,\n      });\n    }\n  }\n\n  return (\n    <aside className=\"document-toc-container\">\n      {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-noninteractive-element-interactions */}\n      <section className=\"document-toc\" onClick={sendTOCClicks}>\n        <header>\n          <h2>Table of contents</h2>\n          <button\n            type=\"button\"\n            className=\"ghost toc-trigger-mobile\"\n            onClick={() => {\n              setShowTOC(!showTOC);\n            }}\n            aria-controls=\"toc-entries\"\n            aria-expanded={showTOC}\n          >\n            Table of contents\n          </button>\n        </header>\n        <ul id=\"toc-entries\" className={showTOC ? \"show-toc\" : undefined}>\n          {toc.map((item) => (\n            <li key={item.id}>\n              <a\n                href={`#${item.id.toLowerCase()}`}\n                dangerouslySetInnerHTML={{ __html: item.text }}\n              ></a>\n            </li>\n          ))}\n        </ul>\n      </section>\n    </aside>\n  );\n}\n","import { Link } from \"react-router-dom\";\n\nimport \"./index.scss\";\n\nfunction SidebarContainer({ children }) {\n  return (\n    <nav id=\"sidebar-quicklinks\" className=\"sidebar\">\n      {children}\n    </nav>\n  );\n}\n\nexport function RenderSideBar({ doc }) {\n  if (!doc.related_content) {\n    if (doc.sidebarHTML) {\n      return (\n        <SidebarContainer>\n          <h4>Related Topics</h4>\n          <div\n            dangerouslySetInnerHTML={{\n              __html: `${doc.sidebarHTML}`,\n            }}\n          />\n        </SidebarContainer>\n      );\n    }\n    return null;\n  }\n  return doc.related_content.map((node) => (\n    <SidebarLeaf key={node.title} parent={node} />\n  ));\n}\n\nfunction SidebarLeaf({ parent }) {\n  return (\n    <SidebarContainer>\n      <h4>{parent.title}</h4>\n      <ul>\n        {parent.content.map((node) => {\n          if (node.content) {\n            return (\n              <li key={node.title}>\n                <SidebarLeaflets node={node} />\n              </li>\n            );\n          } else {\n            return (\n              <li key={node.uri}>\n                <Link to={node.uri}>{node.title}</Link>\n              </li>\n            );\n          }\n        })}\n      </ul>\n    </SidebarContainer>\n  );\n}\n\nfunction SidebarLeaflets({ node }) {\n  return (\n    <details open={node.open}>\n      <summary>\n        {node.uri ? <Link to={node.uri}>{node.title}</Link> : node.title}\n      </summary>\n      <ol>\n        {node.content.map((childNode) => {\n          if (childNode.content) {\n            return (\n              <li key={childNode.title}>\n                <SidebarLeaflets node={childNode} />\n              </li>\n            );\n          } else {\n            return (\n              <li\n                key={childNode.uri}\n                className={childNode.isActive && \"active\"}\n              >\n                <Link to={childNode.uri}>{childNode.title}</Link>\n              </li>\n            );\n          }\n        })}\n      </ol>\n    </details>\n  );\n}\n","import React from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\nimport { useGA } from \"../../../ga-context\";\nimport { Translation } from \"../../../document/types\";\n\nimport \"./index.scss\";\n\n// This needs to match what's set in 'libs/constants.js' on the server/builder!\nconst PREFERRED_LOCALE_COOKIE_NAME = \"preferredlocale\";\n\nexport function LanguageMenu({\n  locale,\n  translations,\n  native,\n}: {\n  locale: string;\n  translations: Translation[];\n  native: string;\n}) {\n  const ga = useGA();\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n  const [preferredLocale, setPreferredLocale] = React.useState(locale);\n\n  function translateURL(destinationLocale: string) {\n    return pathname.replace(`/${locale}/`, `/${destinationLocale}/`);\n  }\n\n  return (\n    <form\n      className=\"language-menu\"\n      onSubmit={(event) => {\n        event.preventDefault();\n        // The default is the current locale itself. If that's what's chosen,\n        // don't bother redirecting.\n        if (preferredLocale !== locale) {\n          const localeURL = translateURL(preferredLocale);\n          for (const translation of translations) {\n            if (translation.locale === preferredLocale) {\n              let cookieValue = `${PREFERRED_LOCALE_COOKIE_NAME}=${\n                translation.locale\n              };max-age=${60 * 60 * 24 * 365 * 3};path=/`;\n              if (document.location.hostname !== \"localhost\") {\n                cookieValue += \";secure\";\n              }\n              document.cookie = cookieValue;\n            }\n          }\n\n          ga(\"send\", {\n            hitType: \"event\",\n            eventCategory: \"Language\",\n            eventAction: \"Change preferred language\",\n            eventLabel: `${window.location.pathname} to ${localeURL}`,\n          });\n\n          navigate(localeURL);\n          window.scrollTo(0, 0);\n        }\n      }}\n    >\n      <fieldset id=\"select-language\">\n        <legend>Change your language</legend>\n        <label htmlFor=\"language-selector\" className=\"visually-hidden\">\n          Select your preferred language\n        </label>{\" \"}\n        <select\n          id=\"language-selector\"\n          name=\"language\"\n          value={preferredLocale}\n          onChange={(event) => {\n            const { value } = event.target;\n            setPreferredLocale(value);\n          }}\n        >\n          {/*\n          This option is alway there and always first.\n          The reason it doesn't have the `disabled` attribute is because it\n          might not render when viewing the select un-opened and instead what\n          you see is the second option.\n          The onChange callback is a protection for doing nothing if the\n          already current locale is chosen.\n         */}\n          <option value={locale}>{native}</option>\n          {translations.map((t) => {\n            return (\n              <option key={t.locale} value={t.locale}>\n                {t.native}\n              </option>\n            );\n          })}\n        </select>{\" \"}\n        <button type=\"submit\" className=\"button minimal\">\n          Change language\n        </button>\n      </fieldset>\n    </form>\n  );\n}\n","import { Doc } from \"./types\";\n\nexport function OnGitHubLink({ doc }: { doc: Doc }) {\n  return (\n    <div id=\"on-github\" className=\"on-github\">\n      <h4>Found a problem with this page?</h4>\n      <ul>\n        <li>\n          <SourceOnGitHubLink doc={doc} />\n        </li>\n        <li>\n          <NewIssueOnGitHubLink doc={doc} />\n        </li>\n        <li>\n          Want to fix the problem yourself? See{\" \"}\n          <a\n            href=\"https://github.com/mdn/content/blob/main/README.md\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            our Contribution guide\n          </a>\n          .\n        </li>\n      </ul>\n    </div>\n  );\n}\nfunction SourceOnGitHubLink({ doc }: { doc: Doc }) {\n  const { github_url, folder } = doc.source;\n  return (\n    <a\n      href={github_url}\n      title={`Folder: ${folder} (Opens in a new tab)`}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Source on <b>GitHub</b>\n    </a>\n  );\n}\n\nconst NEW_ISSUE_TEMPLATE = `\nMDN URL: https://developer.mozilla.org$PATHNAME\n\n#### What information was incorrect, unhelpful, or incomplete?\n\n\n#### Specific section or headline?\n\n\n#### What did you expect to see?\n\n\n#### Did you test this? If so, how?\n\n\n<!-- Do not make changes below this line -->\n<details>\n<summary>MDN Content page report details</summary>\n\n* Folder: \\`$FOLDER\\`\n* MDN URL: https://developer.mozilla.org$PATHNAME\n* GitHub URL: $GITHUB_URL\n* Last commit: $LAST_COMMIT_URL\n* Document last modified: $DATE\n\n</details>\n  `.trim();\n\n// These are the hardcoded prefixes that get their own new-issue label in\n// in GitHub. The prefix is matched all in lower-case but the label itself\n// can have case.\n// The labels do not not needs to exist in advance on the GitHub repo.\n// If not matched to any of these labels, it will default to \"Other\" as the label.\nconst CONTENT_LABELS_PREFIXES = [\n  [\"web/javascript\", \"JavaScript\"],\n  [\"web/css\", \"CSS\"],\n  [\"web/html\", \"HTML\"],\n  [\"web/api\", \"WebAPI\"],\n  [\"web/http\", \"HTTP\"],\n  [\"mozilla/add-ons/webextensions\", \"WebExt\"],\n  [\"web/accessibility\", \"A11y\"],\n  [\"learn\", \"Learn\"],\n  [\"tools\", \"DevTools\"],\n];\n\nfunction NewIssueOnGitHubLink({ doc }: { doc: Doc }) {\n  const baseURL = \"https://github.com/mdn/content/issues/new\";\n  const sp = new URLSearchParams();\n\n  const { folder, github_url, last_commit_url } = doc.source;\n  const body = NEW_ISSUE_TEMPLATE.replace(/\\$PATHNAME/g, doc.mdn_url)\n    .replace(/\\$FOLDER/g, folder)\n    .replace(/\\$GITHUB_URL/g, github_url)\n    .replace(/\\$LAST_COMMIT_URL/g, last_commit_url)\n    .replace(\n      /\\$DATE/g,\n      doc.modified ? new Date(doc.modified).toISOString() : \"*date not known*\"\n    )\n    .trim();\n  sp.set(\"body\", body);\n  const maxLength = 50;\n  const titleShort =\n    doc.title.length > maxLength\n      ? `${doc.title.slice(0, maxLength)}`\n      : doc.title;\n  sp.set(\"title\", `Issue with \"${titleShort}\": (short summary here please)`);\n\n  const slug = doc.mdn_url.split(\"/docs/\")[1].toLowerCase();\n  let contentLabel = \"\";\n  for (const [prefix, label] of CONTENT_LABELS_PREFIXES) {\n    if (slug.startsWith(prefix)) {\n      contentLabel = label;\n      break;\n    }\n  }\n  if (!contentLabel) {\n    contentLabel = \"Other\";\n  }\n  sp.set(\"labels\", `Content:${contentLabel},needs-triage`);\n\n  const href = `${baseURL}?${sp.toString()}`;\n\n  return (\n    <a\n      href={href}\n      title=\"This will take you to https://github.com/mdn/content to file a new issue\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Report a problem with this content on <b>GitHub</b>\n    </a>\n  );\n}\n","import { LanguageMenu } from \"../../../ui/molecules/language-menu\";\nimport { OnGitHubLink } from \"../../on-github\";\n\nimport \"./index.scss\";\n\nfunction LastModified({ value, locale }) {\n  if (!value) {\n    return <span>Last modified date not known</span>;\n  }\n  const date = new Date(value);\n  // Justification for these is to match historically\n  const dateStringOptions: Intl.DateTimeFormatOptions = {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  };\n  return (\n    <>\n      <b>Last modified:</b>{\" \"}\n      <time dateTime={value}>\n        {date.toLocaleString(locale, dateStringOptions)}\n      </time>\n    </>\n  );\n}\n\nexport function Metadata({ doc, locale }) {\n  const translations = doc.other_translations || [];\n  const { native } = doc;\n\n  return (\n    <aside className=\"metadata\">\n      <div className=\"metadata-content-container\">\n        {doc.isActive && <OnGitHubLink doc={doc} />}\n        <p className=\"last-modified-date\">\n          <LastModified value={doc.modified} locale={locale} />,{\" \"}\n          <a href={`${doc.mdn_url}/contributors.txt`}>by MDN contributors</a>\n        </p>\n        {translations && !!translations.length && (\n          <LanguageMenu\n            translations={translations}\n            native={native}\n            locale={locale}\n          />\n        )}\n      </div>\n    </aside>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M10.56,49.41H25.69L16.9,58.72H29.06l-3.89,10.2C40.06,84.16,55.93,87.23,55.93,87.23c0-4.2,1-20.69,2.07-23.45a13.38,13.38,0,0,1,1.91-3.86A10.58,10.58,0,0,1,68.43,56,27,27,0,0,1,78,57.79a6.57,6.57,0,0,0,5.72-.3c1.27-.76,2.53-1.55,3.76-2.36a2.06,2.06,0,0,1,1.39-.45,3.1,3.1,0,0,0,3.19-1.85c.4-.83.88-1.6,1.32-2.43A13.77,13.77,0,0,0,95,43.17h0c-.1-1.81-.31-3.63-.43-5.43a4.4,4.4,0,0,0-1-2.46A6.12,6.12,0,0,0,91,33.42c-2-.79-4.07-1.67-6.11-2.45a54,54,0,0,1-8.39-3.69,6.61,6.61,0,0,1-3.26-5,7.39,7.39,0,0,0-3.69-5.59,10.19,10.19,0,0,0-7.42-.88,11.3,11.3,0,0,1-5.6-.08l-2.79-.85L53,14.69,50.78,14c-4-1.18-5.6-1.79-12-.7A36.94,36.94,0,0,0,21,23.12l-16,17H19.36Z\"\n}));\n\nfunction SvgDino(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 100 100\",\n    role: \"img\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDino);\nexport default __webpack_public_path__ + \"static/media/dino.c083251f.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport useSWR, { mutate } from \"swr\";\n\nimport { CRUD_MODE } from \"../constants\";\nimport { useGA } from \"../ga-context\";\nimport { useDocumentURL } from \"./hooks\";\nimport { Doc } from \"./types\";\n// Ingredients\nimport { Prose, ProseWithHeading } from \"./ingredients/prose\";\nimport { LazyBrowserCompatibilityTable } from \"./lazy-bcd-table\";\n\n// Misc\n// Sub-components\nimport { Breadcrumbs } from \"../ui/molecules/breadcrumbs\";\nimport { LanguageToggle } from \"../ui/molecules/language-toggle\";\nimport { TOC } from \"./organisms/toc\";\nimport { RenderSideBar } from \"./organisms/sidebar\";\nimport { MainContentContainer } from \"../ui/atoms/page-content\";\nimport { Metadata } from \"./organisms/metadata\";\n\nimport { ReactComponent as Dino } from \"../assets/dino.svg\";\n\nimport \"./index.scss\";\n\n// It's unfortunate but it is what it is at the moment. Not every page has an\n// interactive example (in its HTML blob) but we don't know that in advance.\n// But just in case it does, we need to have the CSS ready in the main bundle.\n// Perhaps a more ideal solution would be that the interactive example <iframe>\n// code could come with its own styling rather than it having to be part of the\n// main bundle all the time.\nimport \"./interactive-examples.scss\";\n\n// Lazy sub-components\nconst Toolbar = React.lazy(() => import(\"./toolbar\"));\n\nexport function Document(props /* TODO: define a TS interface for this */) {\n  const ga = useGA();\n  const mountCounter = React.useRef(0);\n  const documentURL = useDocumentURL();\n  const { locale } = useParams();\n  const navigate = useNavigate();\n\n  const dataURL = `${documentURL}/index.json`;\n  const { data: doc, error } = useSWR<Doc>(\n    dataURL,\n    async (url) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error(`${response.status} on ${url}: Page not found`);\n        }\n        const text = await response.text();\n        throw new Error(`${response.status} on ${url}: ${text}`);\n      }\n      const { doc } = await response.json();\n      if (response.redirected) {\n        navigate(doc.mdn_url);\n      }\n      return doc;\n    },\n    {\n      initialData:\n        props.doc &&\n        props.doc.mdn_url.toLowerCase() === documentURL.toLowerCase()\n          ? props.doc\n          : null,\n      revalidateOnFocus: CRUD_MODE,\n    }\n  );\n\n  React.useEffect(() => {\n    if (!doc && !error) {\n      document.title = \" Loading\";\n    } else if (error) {\n      document.title = \" Loading error\";\n    } else if (doc) {\n      document.title = doc.pageTitle;\n    }\n  }, [doc, error]);\n\n  React.useEffect(() => {\n    if (doc && !error) {\n      if (mountCounter.current > 0) {\n        // 'dimension19' means it's a client-side navigation.\n        // I.e. not the initial load but the location has now changed.\n        // Note that in local development, where you use `localhost:3000`\n        // this will always be true because it's always client-side navigation.\n        ga(\"set\", \"dimension19\", \"Yes\");\n        ga(\"send\", {\n          hitType: \"pageview\",\n          location: window.location.toString(),\n        });\n      }\n\n      // By counting every time a document is mounted, we can use this to know if\n      // a client-side navigation happened.\n      mountCounter.current++;\n    }\n  }, [ga, doc, error]);\n\n  React.useEffect(() => {\n    const location = document.location;\n    // Did you arrive on this page with a location hash?\n    if (location.hash && location.hash !== location.hash.toLowerCase()) {\n      // The location hash isn't lowercase. That probably means it's from before\n      // we made all `<h2 id>` and `<h3 id>` values always lowercase.\n      // Let's see if it can easily be fixed, but let's be careful and\n      // only do this if there is an element that matches.\n      try {\n        if (document.querySelector(location.hash.toLowerCase())) {\n          location.hash = location.hash.toLowerCase();\n        }\n      } catch (error) {\n        if (error instanceof DOMException) {\n          // You can't assume that the anchor on the page is a valid string\n          // for `document.querySelector()`.\n          // E.g. /en-US/docs/Web/HTML/Element/input#Form_<input>_types\n          // So if that the case, just ignore the error.\n          // It's not that critical to correct anyway.\n        } else {\n          throw error;\n        }\n      }\n    }\n  }, []);\n\n  if (!doc && !error) {\n    return <LoadingDocumentPlaceholder />;\n  }\n\n  if (error) {\n    return <LoadingError error={error} />;\n  }\n\n  if (!doc) {\n    return null;\n  }\n\n  const translations = doc.other_translations || [];\n\n  const isServer = typeof window === \"undefined\";\n\n  return (\n    <>\n      {doc.isArchive && !doc.isTranslated && <Archived />}\n\n      {/* if we have either breadcrumbs or translations for the current page,\n      continue rendering the section */}\n      {(doc.parents || !!translations.length) && (\n        <div className=\"breadcrumb-locale-container\">\n          {doc.parents && <Breadcrumbs parents={doc.parents} />}\n          {translations && !!translations.length && (\n            <LanguageToggle locale={locale} translations={translations} />\n          )}\n        </div>\n      )}\n\n      {doc.toc && !!doc.toc.length && <TOC toc={doc.toc} />}\n\n      <MainContentContainer>\n        {!isServer && CRUD_MODE && !props.isPreview && doc.isActive && (\n          <React.Suspense\n            fallback={<p className=\"loading-toolbar\">Loading toolbar</p>}\n          >\n            <Toolbar\n              doc={doc}\n              reloadPage={() => {\n                mutate(dataURL);\n              }}\n            />\n          </React.Suspense>\n        )}\n        <article className=\"main-page-content\" lang={doc.locale}>\n          <h1>{doc.title}</h1>\n          <RenderDocumentBody doc={doc} />\n        </article>\n        <Metadata doc={doc} locale={locale} />\n      </MainContentContainer>\n\n      {doc.sidebarHTML && <RenderSideBar doc={doc} />}\n    </>\n  );\n}\n\nfunction LoadingDocumentPlaceholder() {\n  return (\n    <>\n      <Dino className=\"main-content loading-document-placeholder\" />\n    </>\n  );\n}\n\nfunction Archived() {\n  return (\n    <div className=\"archived\">\n      <p>\n        <b>This is an archived page.</b> It's not actively maintained.\n      </p>\n    </div>\n  );\n}\n\n/** These prose sections should be rendered WITHOUT a heading. */\nconst PROSE_NO_HEADING = [\"short_description\", \"overview\"];\n\nfunction RenderDocumentBody({ doc }) {\n  return doc.body.map((section, i) => {\n    if (section.type === \"prose\") {\n      // Only exceptional few should use the <Prose/> component,\n      // as opposed to <ProseWithHeading/>.\n      if (!section.value.id || PROSE_NO_HEADING.includes(section.value.id)) {\n        return (\n          <Prose\n            key={section.value.id || `prose${i}`}\n            section={section.value}\n          />\n        );\n      } else {\n        return (\n          <ProseWithHeading\n            key={section.value.id}\n            id={section.value.id}\n            section={section.value}\n          />\n        );\n      }\n    } else if (section.type === \"browser_compatibility\") {\n      return (\n        <LazyBrowserCompatibilityTable\n          key={`browser_compatibility${i}`}\n          {...section.value}\n        />\n      );\n    } else {\n      console.warn(section);\n      throw new Error(`No idea how to handle a '${section.type}' section`);\n    }\n  });\n}\n\nfunction LoadingError({ error }) {\n  return (\n    <div className=\"page-content-container loading-error\">\n      <h3>Loading Error</h3>\n      {error instanceof window.Response ? (\n        <p>\n          <b>{error.status}</b> on <b>{error.url}</b>\n          <br />\n          <small>{error.statusText}</small>\n        </p>\n      ) : (\n        <p>\n          <code>{error.toString()}</code>\n        </p>\n      )}\n      <p>\n        <a href=\".\">Try reloading the page</a>\n      </p>\n    </div>\n  );\n}\n","import \"./index.scss\";\n\nimport { FeedEntry } from \"../../../homepage/types\";\n\nexport function BlogFeed({ feedEntries }: { feedEntries?: FeedEntry[] }) {\n  return (\n    <div className=\"blog-feed\">\n      <h2>Hacks Blog</h2>\n      <p>\n        <a href=\"http://hacks.mozilla.org/\" className=\"blog-link\">\n          Read more at hacks.mozilla.org\n        </a>\n      </p>\n\n      {feedEntries ? (\n        <ul>\n          {feedEntries.map((feedEntry) => {\n            return (\n              <li key={feedEntry.url} className=\"readable-line-length\">\n                <h3>\n                  <a href={feedEntry.url}>{feedEntry.title}</a>\n                </h3>\n                <p>{feedEntry.summary}</p>\n                <p className=\"post-meta\">\n                  Posted {feedEntry.pubDate} by {feedEntry.creator}\n                </p>\n              </li>\n            );\n          })}\n        </ul>\n      ) : (\n        <p>No feed entries at the moment.</p>\n      )}\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nimport \"./index.scss\";\n\nexport function Contribute() {\n  return (\n    <div className=\"contribute\">\n      <h2>Help improve MDN Web Docs</h2>\n      <p>\n        All parts of MDN (docs and the site itself) are created by an open\n        community of developers. Please join us! Pick one of these ways to help:\n      </p>\n\n      <ul>\n        <li>\n          <a href=\"/en-US/docs/MDN/Getting_started\">Getting started</a>\n        </li>\n        <li>\n          <a href=\"/en-US/docs/MDN/Contribute\">Contributing to MDN content</a>\n        </li>\n        <li>\n          <a href=\"https://github.com/mdn/yari#readme\">\n            Contributing to the MDN codebase\n          </a>\n        </li>\n        <li>\n          <a href=\"https://github.com/mdn/browser-compat-data\">\n            Updating browser compatibility data\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nimport \"./index.scss\";\n\nexport function HomeHero() {\n  return (\n    <div className=\"hero\">\n      <div className=\"hero-content\">\n        <h1>Resources for developers, by developers.</h1>\n        <ul>\n          <li>\n            <a href=\"/en-US/docs/Web\">Web Technologies</a>\n          </li>\n          <li>\n            <a href=\"/en-US/docs/Learn\">Learn Web Development</a>\n          </li>\n          <li>\n            <a href=\"/en-US/docs/Tools\">Developer Tools</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n","import useSWR from \"swr\";\n\nimport { CRUD_MODE } from \"../constants\";\nimport { BlogFeed } from \"../ui/molecules/blog-feed\";\nimport { Contribute } from \"../ui/molecules/home-contribute\";\nimport { HomeHero } from \"../ui/molecules/home-hero\";\n\nimport \"./index.scss\";\n\nimport { FeedEntry } from \"./types\";\n\ninterface HomepageData {\n  feedEntries: FeedEntry[];\n}\n\nexport function Homepage(props /* TODO: define a TS interface for this */) {\n  const { data, error } = useSWR<HomepageData>(\n    \"./index.json\",\n    async (url) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        const text = await response.text();\n        throw new Error(`${response.status} on ${url}: ${text}`);\n      }\n      return await response.json();\n    },\n    {\n      initialData: props.feedEntries\n        ? { feedEntries: props.feedEntries }\n        : undefined,\n      revalidateOnFocus: CRUD_MODE,\n    }\n  );\n\n  return (\n    <main id=\"content\" role=\"main\">\n      <HomeHero />\n      <div className=\"home-content-container\">\n        {error ? (\n          <p>\n            Error downloading feed entries (<code>{error.toString()}</code>)\n          </p>\n        ) : (\n          <BlogFeed feedEntries={data && data.feedEntries} />\n        )}\n        <Contribute />\n      </div>\n    </main>\n  );\n}\n","import * as React from \"react\";\n\nimport { useGA } from \"../../../ga-context\";\n\nimport \"./index.scss\";\n\nexport function A11yNav() {\n  const ga = useGA();\n\n  /**\n   * Send a signal to GA when there is an interaction on one\n   * of the access menu links.\n   * @param {Object} event - The event object that was fired\n   */\n  function sendAccessMenuItemClick(event) {\n    const action = new URL(event.target.href).hash;\n    const label = event.target.textContent;\n\n    ga(\"send\", {\n      hitType: \"event\",\n      eventCategory: \"Access Links\",\n      eventAction: action,\n      eventLabel: label,\n    });\n  }\n\n  return (\n    <ul id=\"nav-access\" className=\"a11y-nav\">\n      <li>\n        <a\n          id=\"skip-main\"\n          href=\"#content\"\n          onClick={sendAccessMenuItemClick}\n          onContextMenu={sendAccessMenuItemClick}\n        >\n          {\"Skip to main content\"}\n        </a>\n      </li>\n      <li>\n        <a\n          id=\"skip-search\"\n          href=\"#main-q\"\n          onClick={sendAccessMenuItemClick}\n          onContextMenu={sendAccessMenuItemClick}\n        >\n          {\"Skip to search\"}\n        </a>\n      </li>\n    </ul>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M7.14,8.35V119.41H118.19V8.35Zm103.71,56c-.48.92-1,1.79-1.46,2.71a3.44,3.44,0,0,1-3.54,2,2.4,2.4,0,0,0-1.55.5c-1.37.9-2.76,1.79-4.18,2.63a7.33,7.33,0,0,1-6.35.34,29.71,29.71,0,0,0-10.63-2,11.7,11.7,0,0,0-9.46,4.31,14.84,14.84,0,0,0-2.13,4.29c-1.24,3.07-2.3,21.38-2.3,26.05,0,0-17.62-3.42-34.15-20.34l4.31-11.32H25.91l9.76-10.35H18.87l9.77-10.34H12.69L30.45,34A40.9,40.9,0,0,1,50.22,23.17c7.1-1.22,8.93-.53,13.31.77l2.43.73.85.25,3.1.95a12.56,12.56,0,0,0,6.21.09,11.37,11.37,0,0,1,8.25,1,8.24,8.24,0,0,1,4.1,6.22,7.29,7.29,0,0,0,3.61,5.49,59.45,59.45,0,0,0,9.32,4.11c2.27.86,4.54,1.84,6.79,2.72a6.81,6.81,0,0,1,2.86,2.06,4.81,4.81,0,0,1,1.1,2.73c.14,2,.37,4,.47,6h0A15.24,15.24,0,0,1,110.85,64.32Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M320.12,39.62a5.42,5.42,0,0,0-4.53,2.13,7.36,7.36,0,0,0-1.7,4.43v2.36a6.28,6.28,0,0,0,1.7,4.46,5.63,5.63,0,0,0,4.3,1.82,5.12,5.12,0,0,0,4.57-2.27A9.7,9.7,0,0,0,326,47a8.11,8.11,0,0,0-1.67-5.52A5.36,5.36,0,0,0,320.12,39.62Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M387.38,39.53a5.52,5.52,0,0,0-4.7,2.15,8.8,8.8,0,0,0-1.63,5.49,9.23,9.23,0,0,0,1.58,5.45,5.38,5.38,0,0,0,4.7,2.25,5.61,5.61,0,0,0,4.74-2.2,8.91,8.91,0,0,0,1.68-5.59A8.24,8.24,0,0,0,392,41.56,5.76,5.76,0,0,0,387.38,39.53Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M299.47,41.35a4.34,4.34,0,0,0-4-1.92,4.55,4.55,0,0,0-3.89,1.73A8.37,8.37,0,0,0,290,45.33h10.48A6.3,6.3,0,0,0,299.47,41.35Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M357.74,30.75H352V54.06h5.72q5.47,0,8.35-3T369,42.41q0-5.43-2.88-8.55T357.74,30.75Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M121.55,8.35v70.8h323V8.35ZM163.76,30.8h-4V54h3.68v3.73H152.19V54h3.31V36.79h-.19l-9.63,19.12h-2.12l-10-19.4h-.19V54h3.45v3.73H125.67V54h3.68V30.8h-4V27.07H133l11.66,22.56h.19l11.18-22.56h7.7Zm29.12,22.67q-4.11,4.28-11.38,4.28H167.44V54.06h3.73V30.75h-3.73V27.07h13.83q7.59,0,11.66,4.29a15.4,15.4,0,0,1,4,11A15.33,15.33,0,0,1,192.88,53.47ZM231.77,30.8h-3.68v27h-2.6L208.08,35h-.19V54h4.67v3.73H200.34V54h3.49V30.8h-4V27.07h7.08l16.9,22.09H224V30.8h-4.58V27.07h12.32Zm43.8,27h-3.31l-7.83-23.18h-.19l-7.55,23.18h-3.35L244.56,30.8h-2.65V27.07H253V30.8h-3.87L255,50.71h.23l6.61-19.91H259V27.07h11V30.8h-2.78l6.61,20.1h.23l5.43-20.1h-4.15V27.07h11V30.8h-2.54Zm26.71-1.51a9.66,9.66,0,0,1-6.42,2,10.2,10.2,0,0,1-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37,12.37,0,0,1,2.64-8.12,9,9,0,0,1,7.32-3.21,8.62,8.62,0,0,1,6.75,2.69,9.65,9.65,0,0,1,2.45,6.52,13.67,13.67,0,0,1-.28,2.69H290q.29,6.71,6.18,6.7a5.2,5.2,0,0,0,3.71-1.18,5.82,5.82,0,0,0,1.67-2.83l3.45.71A7.21,7.21,0,0,1,302.28,56.24Zm25.77-1.63c-1.51,2.4-3.92,3.61-7.22,3.61s-5.84-1.29-7.22-3.87c0,.25-.1.82-.21,1.7s-.19,1.44-.22,1.7H309c.16-1,.31-2,.47-3.07a21.42,21.42,0,0,0,.24-3.16v-23h-3.4V25.27h7.55V40.9a9.76,9.76,0,0,1,2.67-3.28,7.33,7.33,0,0,1,4.74-1.4A8.48,8.48,0,0,1,327.77,39q2.55,2.74,2.55,7.74A14.6,14.6,0,0,1,328.05,54.61Zm41.39-1.14q-4.11,4.28-11.37,4.28H344V54.06h3.73V30.75H344V27.07h13.83q7.59,0,11.66,4.29a15.41,15.41,0,0,1,4.06,11A15.34,15.34,0,0,1,369.44,53.47Zm25.65,1.68a10.53,10.53,0,0,1-7.9,3.07,10,10,0,0,1-7.63-3,10.93,10.93,0,0,1-2.8-7.83,12.13,12.13,0,0,1,2.69-7.93q2.69-3.3,8-3.3t8,3.28a12,12,0,0,1,2.64,7.76A10.86,10.86,0,0,1,395.09,55.15Zm22.61.57c-1.4,1.66-3.63,2.5-6.68,2.5a9.58,9.58,0,0,1-7.15-2.76q-2.72-2.76-2.71-7.91a12.25,12.25,0,0,1,2.69-8,9.17,9.17,0,0,1,7.5-3.28,15,15,0,0,1,3.82.48,10.37,10.37,0,0,1,3.5,1.65l.85,5.47-3.35.38-.76-3.54a8.07,8.07,0,0,0-4.11-1,4.9,4.9,0,0,0-4.39,2.15,9.93,9.93,0,0,0-1.41,5.55A8.9,8.9,0,0,0,407,52.84a5.23,5.23,0,0,0,4.44,2c2.92,0,4.67-1.7,5.23-5.1l3.5.71A10.34,10.34,0,0,1,417.7,55.72Zm20.48.75a11.68,11.68,0,0,1-6.63,1.75,15.52,15.52,0,0,1-8.26-2.08L424,51l3.26.33-.1,2.74a7,7,0,0,0,2.06.66,12.63,12.63,0,0,0,2.19.19,8.68,8.68,0,0,0,3.66-.75,2.5,2.5,0,0,0,1.63-2.36,2.25,2.25,0,0,0-1.32-2.2,12.65,12.65,0,0,0-3.28-1c-1.31-.22-2.61-.49-3.9-.82a7.5,7.5,0,0,1-3.25-1.7,4.67,4.67,0,0,1-1.33-3.66c0-2.36.88-4,2.62-4.91a12,12,0,0,1,5.6-1.37,15,15,0,0,1,4.08.55,16.65,16.65,0,0,1,3.47,1.39l.47,5.1-3.3.37-.48-3.3a9.5,9.5,0,0,0-4.06-.9,5.62,5.62,0,0,0-2.87.66A2.33,2.33,0,0,0,428,42.27a2.13,2.13,0,0,0,1.3,2.07,11.91,11.91,0,0,0,3.21.92,36.69,36.69,0,0,1,3.82.83,7.46,7.46,0,0,1,3.21,1.74,4.9,4.9,0,0,1,1.3,3.73A5.56,5.56,0,0,1,438.18,56.47Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M181.17,30.75h-5.71V54.06h5.71q5.47,0,8.36-3t2.88-8.61q0-5.43-2.88-8.55T181.17,30.75Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M121.63,119.32V81.74H236.54v37.58ZM153.22,109h-2v-6.85a4.8,4.8,0,0,0-1.58-4,5.57,5.57,0,0,0-3.55-1.26,5,5,0,0,0-4.92,3.26,4.19,4.19,0,0,0-1.88-2.46,5.82,5.82,0,0,0-3-.8,4.89,4.89,0,0,0-4.56,2.56V97.24h-6.28v3.26h2V109h-2v3.23h9.11V109H131.7v-5.25a4.4,4.4,0,0,1,.69-2.56,2.47,2.47,0,0,1,2.21-1q2.57,0,2.56,3.63v8.41h6.29V109h-2v-5.25a4.47,4.47,0,0,1,.67-2.56,2.42,2.42,0,0,1,2.19-1q2.63,0,2.63,3.63v8.41h6.28Zm9.88-12.07q-4,0-6,2.36a8.41,8.41,0,0,0-2,5.66,7.25,7.25,0,0,0,2.17,5.62,8,8,0,0,0,5.65,2,8.54,8.54,0,0,0,5.94-2.11,7.27,7.27,0,0,0,2.34-5.67,8.21,8.21,0,0,0-2-5.51Q167.13,96.94,163.1,96.94ZM163,109.28a3,3,0,0,1-2.63-1.33,5.68,5.68,0,0,1-.9-3.26,5,5,0,0,1,1-3.28,3.23,3.23,0,0,1,2.61-1.18,3.5,3.5,0,0,1,2.59,1.08,4.56,4.56,0,0,1,1.07,3.31,5.21,5.21,0,0,1-1,3.41A3.33,3.33,0,0,1,163,109.28Zm25-2.3-3.39-.29-.7,2.32H179l8.32-9.54L187,97.24H173.81l-.53,5.25,3.16.34.67-2.36h4.65L173.51,110l.44,2.26h13.13Zm7.62-9.74h-4.46v5.39h4.46Zm0,9.61h-4.46v5.39h4.46Zm13.54-17.49h-4.23l-6.48,22.88h4.22Zm8.68,0h-4.23l-6.45,22.88h4.19Zm15,22.51-.07-2.26a1.22,1.22,0,0,1-.56.1c-.69,0-1-.39-1-1.16v-6.49a4.39,4.39,0,0,0-1.8-3.84,7,7,0,0,0-4.16-1.28,14.55,14.55,0,0,0-3.16.3,24.14,24.14,0,0,0-3.29,1.06l-.56,3.46,3.39.4.5-1.69a2.78,2.78,0,0,1,1.08-.37,11.3,11.3,0,0,1,1.25-.07c1.19,0,1.89.37,2.09,1.1a8.55,8.55,0,0,1,.3,2.26v.5a8.91,8.91,0,0,0-1.18-.11c-.41,0-.81,0-1.21,0a12.64,12.64,0,0,0-4.81.88,3.53,3.53,0,0,0-2.18,3.64,3.66,3.66,0,0,0,1.48,3.33,5.63,5.63,0,0,0,3.11,1,4.67,4.67,0,0,0,3-.91,6.78,6.78,0,0,0,1.8-2,3,3,0,0,0,3.33,3A5.54,5.54,0,0,0,232.85,111.87Zm-9.25-2.32a1.69,1.69,0,0,1-1.36-.52,1.81,1.81,0,0,1-.43-1.21,1.67,1.67,0,0,1,.86-1.68,4.63,4.63,0,0,1,2-.42,7.69,7.69,0,0,1,1.07.07l1.06.13a3.58,3.58,0,0,1-1.08,2.74A3.24,3.24,0,0,1,223.6,109.55Z\"\n}));\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 451.74 135\",\n    role: \"img\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.785be1ae.svg\";\nexport { ForwardRef as ReactComponent };","import * as React from \"react\";\n\nimport { useLocale } from \"../../../hooks\";\nimport { ReactComponent as LogoSVG } from \"../../../assets/logo.svg\";\n\nimport \"./index.scss\";\n\nexport function Logo({ mode }: { mode?: string }) {\n  const locale = useLocale();\n\n  return (\n    <a href={`/${locale}/`} className=\"logo\" aria-label=\"MDN Web Docs\">\n      <LogoSVG fill={mode === \"dark\" ? \"#fff\" : undefined} />\n    </a>\n  );\n}\n","import * as React from \"react\";\n\nimport { ReactComponent as GithubIcon } from \"@mdn/dinocons/brands/github-mark-small.svg\";\nimport { ReactComponent as TwitterIcon } from \"@mdn/dinocons/social/twitter.svg\";\nimport { ReactComponent as InstagramIcon } from \"@mdn/dinocons/social/instagram.svg\";\n\nimport { useLocale } from \"../../../hooks\";\nimport { Logo } from \"../../atoms/logo\";\nimport \"./index.scss\";\n\nexport function Footer() {\n  const locale = useLocale();\n\n  return (\n    <footer id=\"nav-footer\" className=\"page-footer\">\n      <div className=\"content-container\">\n        <div className=\"page-footer-logo\">\n          <Logo mode=\"dark\" />\n        </div>\n        <ul className=\"link-list-mdn\">\n          <li>\n            <a href={`/${locale}/docs/Web`}>Web Technologies</a>\n          </li>\n          <li>\n            <a href={`/${locale}/docs/Learn`}>Learn Web Development</a>\n          </li>\n          <li>\n            <a href={`/${locale}/docs/MDN/About`}>About MDN</a>\n          </li>\n          <li>\n            <a href={`/${locale}/docs/MDN/Feedback`}>Feedback</a>\n          </li>\n        </ul>\n\n        <ul className=\"link-list-moz\">\n          <li>\n            <a\n              href=\"https://www.mozilla.org/about/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              About\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://shop.spreadshirt.com/mdn-store/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              MDN Web Docs Store\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://www.mozilla.org/contact/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Contact Us\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&utm_campaign=footer&utm_medium=referral\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Firefox\n            </a>\n          </li>\n        </ul>\n\n        <div className=\"social social-mdn\">\n          <h4>MDN</h4>\n          <ul>\n            <li>\n              <a\n                href=\"https://twitter.com/mozdevnet\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                aria-label=\"Twitter\"\n              >\n                <TwitterIcon />\n              </a>\n            </li>\n            <li>\n              <a\n                href=\"https://github.com/mdn/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                aria-label=\"Github\"\n              >\n                <GithubIcon />\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <div className=\"social social-moz\">\n          <h4>Mozilla</h4>\n          <ul>\n            <li>\n              <a\n                href=\"https://twitter.com/mozilla\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                aria-label=\"Twitter\"\n              >\n                <TwitterIcon />\n              </a>\n            </li>\n            <li>\n              <a\n                href=\"https://www.instagram.com/mozillagram/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                aria-label=\"Instagram\"\n              >\n                <InstagramIcon />\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <p id=\"license\" className=\"footer-license\">\n          &copy; 2005-{new Date().getFullYear()} Mozilla and individual\n          contributors. Content is available under{\" \"}\n          <a href=\"/docs/MDN/About#Copyrights_and_licenses\">these licenses</a>.\n        </p>\n\n        <ul className=\"footer-legal\">\n          <li>\n            <a\n              href=\"https://www.mozilla.org/about/legal/terms/mozilla\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Terms\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://www.mozilla.org/privacy/websites/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Privacy\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://www.mozilla.org/privacy/websites/#cookies\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Cookies\n            </a>\n          </li>\n        </ul>\n      </div>\n    </footer>\n  );\n}\n","import * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useGA } from \"../../../ga-context\";\n\nimport \"./index.scss\";\n\ntype DropdownProps = {\n  // A string set as the id attribute to uniquely identify this\n  // Dropdown component\n  id?: string;\n  // An optional string that, when specified, is added to the\n  // the existing classes for the dropdown-menu-items element.\n  // Useful when custom styling for a specific dropdown\n  // component is needed.\n  componentClassName?: string;\n  // The string or component to display. Clicking this will\n  // display the menu\n  label: string | React.ReactNode;\n  // An optional string that, when specified, is set as the `id` attribute\n  // of the `ul` menu element. This is then also used as the value of the\n  // `aria-owns` property on the menu trigger button\n  ariaOwns?: string;\n  // An optional string that, when specified, is used to set a custom\n  // label for the menu trigger button using `aria-label`\n  ariaLabel?: string;\n  // If set to true, the menu will be anchored to the right edge of\n  // the label and may extend beyond the left edge. If this is\n  // false or unset, the default behavior is to attach the menu to\n  // the left side of the label and allow it to extend beyond the\n  // right edge of the label.\n  right?: boolean;\n  // If true, we won't show the arrow next to the menu\n  hideArrow?: boolean;\n  children: React.ReactNode;\n};\n\nexport default function Dropdown(props: DropdownProps) {\n  const ga = useGA();\n  const [showDropdownMenu, setShowDropdownMenu] = useState(false);\n\n  function hideDropdownMenuIfVisible() {\n    if (showDropdownMenu) {\n      setShowDropdownMenu(false);\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener(\"keyup\", (event: KeyboardEvent) => {\n      if (event.key === \"Escape\") {\n        hideDropdownMenuIfVisible();\n      }\n    });\n  });\n\n  return (\n    <div\n      className={`dropdown-container ${\n        props.componentClassName ? props.componentClassName : \"\"\n      }`}\n    >\n      <button\n        id={props.id}\n        type=\"button\"\n        className=\"ghost dropdown-menu-label\"\n        aria-haspopup=\"true\"\n        aria-owns={props.ariaOwns}\n        aria-label={props.ariaLabel}\n        onClick={() => {\n          setShowDropdownMenu(!showDropdownMenu);\n        }}\n        onFocus={function (event) {\n          ga(\"send\", {\n            hitType: \"event\",\n            eventCategory: \"MozMenu\",\n            eventAction: event.target.id,\n          });\n        }}\n      >\n        {props.label}\n        {!props.hideArrow && (\n          <span className=\"dropdown-arrow-down\" aria-hidden=\"true\">\n            \n          </span>\n        )}\n      </button>\n      <ul\n        id={props.ariaOwns}\n        className={`dropdown-menu-items ${props.right ? \"right\" : \"\"} ${\n          showDropdownMenu ? \"show\" : \"\"\n        }`}\n        role=\"menu\"\n      >\n        {props.children}\n      </ul>\n    </div>\n  );\n}\n","export function getAuthURL(pathname: string, appendNext: boolean = true) {\n  let next = window.location.pathname;\n  let prefix = \"\";\n\n  // When doing local development with Yari, the link to authenticate in Kuma\n  // needs to be absolute. And we also need to send the absolute URL as the\n  // `next` query string parameter so Kuma sends us back when the user has\n  // authenticated there.\n  if (\n    process.env.NODE_ENV === \"development\" &&\n    process.env.REACT_APP_KUMA_HOST\n  ) {\n    next = window.location.href;\n    prefix = `http://${process.env.REACT_APP_KUMA_HOST}`;\n  }\n  let url = `${prefix}${pathname}`;\n  if (appendNext) {\n    const sp = new URLSearchParams();\n    sp.set(\"next\", next);\n    url += `?${sp.toString()}`;\n  }\n  return url;\n}\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport { useLocale } from \"../../../hooks\";\nimport { getAuthURL } from \"../../../utils/auth-link\";\n\nexport default function SignInLink({ className }: { className?: string }) {\n  const locale = useLocale();\n  const { pathname } = useLocation();\n\n  // NOTE! We can remove this if-statement and make it the default once\n  // https://github.com/mdn/yari/issues/2449 is resolved and it has been\n  // fully tested in Stage.\n  if (process.env.REACT_APP_USE_YARI_SIGNIN) {\n    return (\n      <Link\n        to={`/${locale}/signin?next=${pathname}`}\n        rel=\"nofollow\"\n        className={className ? className : undefined}\n      >\n        Sign in\n      </Link>\n    );\n  }\n  return (\n    <>\n      <a\n        href={getAuthURL(`/${locale}/users/account/signup-landing`)}\n        rel=\"nofollow\"\n        className={className ? className : undefined}\n      >\n        Sign in\n      </a>\n    </>\n  );\n}\n","import * as React from \"react\";\n\nimport Dropdown from \"../dropdown\";\nimport { useLocale } from \"../../../hooks\";\nimport SignInLink from \"../../atoms/signin-link\";\nimport { getAuthURL } from \"../../../utils/auth-link\";\nimport { useUserData } from \"../../../user-context\";\n\nimport { DISABLE_AUTH } from \"../../../constants\";\n\nimport \"./index.scss\";\n\nconst avatarImage = `${process.env.PUBLIC_URL || \"\"}/assets/avatar.png`;\n\nexport default function Login() {\n  // For example, if you're using Yari purely for previewing your content edits,\n  // it might not make sense to do any auth.\n  if (DISABLE_AUTH) {\n    return null;\n  }\n  // The reason the <Login/> wraps <LoginInner/> is to be able to\n  // potentially exit early depending on `DISABLE_AUTH`.\n  return <LoginInner />;\n}\n\nfunction LoginInner() {\n  const locale = useLocale();\n  const userData = useUserData();\n\n  // if we don't have the user data yet, don't render anything\n  if (!userData || typeof window === \"undefined\") {\n    return null;\n  }\n\n  if (!(userData.isAuthenticated && userData.username)) {\n    // Otherwise, show a login prompt\n    return <SignInLink className=\"signin-link\" />;\n  }\n\n  // If we have user data and the user is logged in, show their\n  // profile pic, defaulting to the dino head if the avatar\n  // URL doesn't work.\n  const label = (\n    <>\n      <img\n        src={userData.avatarUrl || avatarImage}\n        className=\"avatar\"\n        alt={userData.username}\n      />\n      <span className=\"avatar-username\">{userData.username}</span>\n    </>\n  );\n  const viewProfileURL = getAuthURL(\n    `/${locale}/profiles/${userData.username}`,\n    false\n  );\n  const editProfileURL = viewProfileURL + \"/edit\";\n\n  // Note that this component is never rendered server-side so it's safe to\n  // rely on `window.location`.\n  let next = window.location.pathname;\n  let signOutURL = `/${locale}/users/signout`;\n  if (\n    process.env.NODE_ENV === \"development\" &&\n    process.env.REACT_APP_KUMA_HOST\n  ) {\n    const combined = new URL(next, window.location.href);\n    next = combined.toString();\n    signOutURL = `http://${process.env.REACT_APP_KUMA_HOST}${signOutURL}`;\n  }\n\n  return (\n    <Dropdown id=\"user-avatar-menu\" label={label} right={true} hideArrow={true}>\n      <li>\n        <a href={viewProfileURL}>View profile</a>\n      </li>\n      <li>\n        <a href={editProfileURL}>Edit profile</a>\n      </li>\n      <li>\n        <form action={signOutURL} method=\"post\">\n          <input name=\"next\" type=\"hidden\" value={next} />\n          <button className=\"ghost signout-button\" type=\"submit\">\n            Sign out\n          </button>\n        </form>\n      </li>\n    </Dropdown>\n  );\n}\n","import * as React from \"react\";\nimport { useEffect, useRef, useState } from \"react\";\n\nimport { useGA } from \"../../../ga-context\";\nimport { useLocale } from \"../../../hooks\";\n\nimport \"./index.scss\";\n\nexport default function MainMenu({\n  toggleMainMenu,\n}: {\n  toggleMainMenu?: () => void;\n}) {\n  const locale = useLocale();\n  const previousActiveElement = useRef<null | HTMLButtonElement>(null);\n  const mainMenuRef = useRef<null | HTMLUListElement>(null);\n  const [visibleSubMenuId, setVisibleSubMenuId] = useState<string | null>(null);\n  const [\n    focusedSubmenuItemIndex,\n    setFocusedSubmenuItemIndex,\n  ] = useState<number>(-1);\n  const [submenuCollapsedOnBlurId, setSubmenuCollapsedOnBlurId] = useState<\n    string | null\n  >(null);\n  const ga = useGA();\n\n  /**\n   * Send a signal to GA when there is an interaction on one\n   * of the main menu items.\n   * @param {Object} event - The event object that was triggered\n   */\n  function sendMenuItemInteraction(\n    event:\n      | React.FocusEvent<HTMLButtonElement>\n      | React.MouseEvent<HTMLAnchorElement>\n  ) {\n    if (!(event.target instanceof HTMLElement)) {\n      return;\n    }\n    const label =\n      event.target instanceof HTMLAnchorElement\n        ? event.target.href\n        : event.target.textContent;\n\n    ga(\"send\", {\n      hitType: \"event\",\n      eventCategory: \"Wiki\",\n      eventAction: \"MainNav\",\n      eventLabel: label,\n    });\n  }\n\n  function hideSubMenuIfVisible() {\n    if (visibleSubMenuId) {\n      setVisibleSubMenuId(null);\n    }\n  }\n\n  /**\n   * Show and hide submenus in the main menu, send GA events and updates\n   * the ARIA state.\n   * @param {Object} event - onClick event triggered on top-level menu item\n   * @param {String} id - The current top-level menu item id\n   */\n  function toggleSubMenu(event, id) {\n    const expandedState = visibleSubMenuId === id ? false : true;\n\n    // store the current activeElement\n    previousActiveElement.current = document.activeElement as HTMLButtonElement;\n\n    setVisibleSubMenuId(visibleSubMenuId === id ? null : id);\n    sendMenuItemInteraction(event);\n\n    if (expandedState) {\n      setFocusedSubmenuItemIndex(0);\n    }\n  }\n\n  function onMenuButtonFocus(event: React.FocusEvent<HTMLButtonElement>) {\n    setFocusedSubmenuItemIndex(-1);\n    sendMenuItemInteraction(event);\n  }\n\n  /**\n   * Handle arrow keydown events on submenu to change focused item.\n   * @param {Object} event - keydown event triggered on submenu\n   * @param {String} id - submenu id\n   * @param {Number} itemCount - number of items in submenu\n   */\n  function onSubmenuKeydown(\n    event: React.KeyboardEvent,\n    id: string,\n    itemCount: number\n  ) {\n    if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\") {\n      // prevent page scrolling\n      event.preventDefault();\n\n      // open submenu if closed\n      if (focusedSubmenuItemIndex === -1) {\n        previousActiveElement.current = event.target as HTMLButtonElement;\n        setVisibleSubMenuId(id);\n      }\n\n      switch (event.key) {\n        case \"ArrowDown\":\n          // focus below item and jump to top item if bottom item focused\n          setFocusedSubmenuItemIndex((focusedSubmenuItemIndex + 1) % itemCount);\n          break;\n        case \"ArrowUp\":\n          if (focusedSubmenuItemIndex <= 0) {\n            // jump to bottom item if top item focused\n            setFocusedSubmenuItemIndex(itemCount - 1);\n          } else {\n            setFocusedSubmenuItemIndex(focusedSubmenuItemIndex - 1);\n          }\n      }\n    }\n  }\n\n  /**\n   * Close submenu if focus leaves submenu due to tabbing or clicking outside\n   */\n  function onSubmenuItemBlur(submenuId: string, itemIndex: number) {\n    if (itemIndex === focusedSubmenuItemIndex) {\n      // prevent submenu from immediately re-opening if blur caused by clicking menu button\n      setSubmenuCollapsedOnBlurId(submenuId);\n      setTimeout(() => {\n        setSubmenuCollapsedOnBlurId(null);\n      }, 250);\n\n      hideSubMenuIfVisible();\n    }\n  }\n\n  useEffect(() => {\n    const mainMenu = mainMenuRef.current;\n\n    // by default the main menu contains a `nojs` class which\n    // then allows users on desktop to interact with the main\n    // menu via hover events if the JavsScript failed for whatever\n    // reason. If all is well though, we remove the class here and\n    // let JavaScript take over the interaction\n    if (mainMenu) {\n      mainMenu.classList.remove(\"nojs\");\n    }\n\n    const focusableSubmenuItemSelector = 'ul.show a[tabindex=\"0\"]';\n    mainMenu\n      ?.querySelector<HTMLAnchorElement>(focusableSubmenuItemSelector)\n      ?.focus();\n\n    document.addEventListener(\"keyup\", (event) => {\n      if (event.key === \"Escape\") {\n        hideSubMenuIfVisible();\n\n        if (previousActiveElement.current) {\n          previousActiveElement.current.focus();\n        }\n      }\n    });\n  });\n\n  const menus = [\n    {\n      label: \"Technologies\",\n      id: \"technologies\",\n      items: [\n        {\n          url: `/${locale}/docs/Web`,\n          label: \"Technologies Overview\",\n        },\n        {\n          url: `/${locale}/docs/Web/HTML`,\n          label: \"HTML\",\n        },\n        {\n          url: `/${locale}/docs/Web/CSS`,\n          label: \"CSS\",\n        },\n        {\n          url: `/${locale}/docs/Web/JavaScript`,\n          label: \"JavaScript\",\n        },\n        {\n          url: `/${locale}/docs/Web/Guide/Graphics`,\n          label: \"Graphics\",\n        },\n        {\n          url: `/${locale}/docs/Web/HTTP`,\n          label: \"HTTP\",\n        },\n        {\n          url: `/${locale}/docs/Web/API`,\n          label: \"APIs\",\n        },\n        {\n          url: `/${locale}/docs/Mozilla/Add-ons/WebExtensions`,\n          label: \"Browser Extensions\",\n        },\n        {\n          url: `/${locale}/docs/Web/MathML`,\n          label: \"MathML\",\n        },\n      ],\n    },\n    {\n      label: \"References & Guides\",\n      id: \"references-guides\",\n      items: [\n        {\n          url: `/${locale}/docs/Learn`,\n          label: \"Learn web development\",\n        },\n        {\n          url: `/${locale}/docs/Web/Tutorials`,\n          label: \"Tutorials\",\n        },\n        {\n          url: `/${locale}/docs/Web/Reference`,\n          label: \"References\",\n        },\n        {\n          url: `/${locale}/docs/Web/Guide`,\n          label: \"Developer Guides\",\n        },\n        {\n          url: `/${locale}/docs/Web/Accessibility`,\n          label: \"Accessibility\",\n        },\n        {\n          url: `/${locale}/docs/Games`,\n          label: \"Game development\",\n        },\n        {\n          url: `/${locale}/docs/Web`,\n          label: \"...more docs\",\n        },\n      ],\n    },\n    {\n      label: \"Feedback\",\n      id: \"feedback\",\n      items: [\n        {\n          url: `/${locale}/docs/MDN/Contribute/Feedback`,\n          label: \"Send Feedback\",\n        },\n        {\n          url: `/${locale}/docs/MDN/Contribute`,\n          label: \"Contribute to MDN\",\n        },\n        {\n          label: \"Report a content issue\",\n          external: true,\n          url: \"https://github.com/mdn/content/issues/new\",\n          onClick: (event) => {\n            const onGithubElement = document.querySelector(\"#on-github\");\n            if (onGithubElement) {\n              event.preventDefault();\n              if (toggleMainMenu) {\n                toggleMainMenu();\n              }\n              onGithubElement.scrollIntoView({ behavior: \"smooth\" });\n            }\n          },\n        },\n        {\n          label: \"Report a platform issue\",\n          external: true,\n          url: \"https://github.com/mdn/yari/issues/new\",\n        },\n      ],\n    },\n  ];\n\n  return (\n    <nav className=\"main-nav\" aria-label=\"Main menu\">\n      <ul className=\"main-menu nojs\" ref={mainMenuRef}>\n        {menus.map((menuEntry) => (\n          <li\n            key={menuEntry.id}\n            className=\"top-level-entry-container\"\n            onKeyDown={(event) => {\n              onSubmenuKeydown(event, menuEntry.id, menuEntry.items.length);\n            }}\n          >\n            <button\n              id={`${menuEntry.id}-button`}\n              type=\"button\"\n              className=\"top-level-entry\"\n              aria-haspopup=\"menu\"\n              aria-expanded={menuEntry.id === visibleSubMenuId}\n              onFocus={onMenuButtonFocus}\n              onClick={(event) => {\n                if (submenuCollapsedOnBlurId !== menuEntry.id) {\n                  // always toggle menu if not clicking button for currently open menu\n                  toggleSubMenu(event, menuEntry.id);\n                }\n                setSubmenuCollapsedOnBlurId(null);\n              }}\n            >\n              {menuEntry.label}\n            </button>\n            <ul\n              className={`${menuEntry.id} ${\n                menuEntry.id === visibleSubMenuId ? \"show\" : \"\"\n              }`}\n              role=\"menu\"\n              aria-labelledby={`${menuEntry.id}-button`}\n            >\n              {menuEntry.items.map((item, index) => (\n                <li\n                  key={item.url}\n                  role=\"none\"\n                  onBlur={() => onSubmenuItemBlur(menuEntry.id, index)}\n                  onMouseOver={() => setFocusedSubmenuItemIndex(index)}\n                >\n                  {item.external ? (\n                    <a\n                      tabIndex={index === focusedSubmenuItemIndex ? 0 : -1}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      href={item.url}\n                      onClick={(event) => {\n                        item.onClick\n                          ? item.onClick(event)\n                          : sendMenuItemInteraction(event);\n                      }}\n                      onContextMenu={sendMenuItemInteraction}\n                      role=\"menuitem\"\n                    >\n                      {item.label} &#x1f310;\n                    </a>\n                  ) : (\n                    <a\n                      tabIndex={index === focusedSubmenuItemIndex ? 0 : -1}\n                      href={item.url}\n                      onClick={(event) => {\n                        item.onClick\n                          ? item.onClick(event)\n                          : sendMenuItemInteraction(event);\n                      }}\n                      onContextMenu={sendMenuItemInteraction}\n                      role=\"menuitem\"\n                    >\n                      {item.label}\n                    </a>\n                  )}\n                </li>\n              ))}\n            </ul>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n}\n","import * as React from \"react\";\nimport { useRef, useState } from \"react\";\n\nimport Login from \"../../molecules/login\";\nimport { Logo } from \"../../atoms/logo\";\nimport MainMenu from \"../../molecules/main-menu\";\nimport { Search } from \"../../molecules/search\";\n\nimport \"./index.scss\";\n\nexport function Header() {\n  const [showMainMenu, setShowMainMenu] = useState(false);\n  const mainMenuToggleRef = useRef<null | HTMLButtonElement>(null);\n\n  function toggleMainMenu() {\n    const pageOverlay = document.querySelector(\".page-overlay\");\n    const mainMenuButton = mainMenuToggleRef.current;\n\n    if (mainMenuButton) {\n      mainMenuButton.classList.toggle(\"expanded\");\n      setShowMainMenu(!showMainMenu);\n    }\n\n    if (pageOverlay) {\n      pageOverlay.classList.toggle(\"hidden\");\n    }\n  }\n\n  return (\n    <header className=\"page-header\">\n      <Logo />\n      <button\n        ref={mainMenuToggleRef}\n        type=\"button\"\n        className=\"ghost main-menu-toggle\"\n        aria-haspopup=\"true\"\n        aria-label=\"Show Menu\"\n        onClick={toggleMainMenu}\n      />\n      <div className={`page-header-main ${showMainMenu ? \"show\" : \"\"}`}>\n        <MainMenu\n          toggleMainMenu={() => {\n            toggleMainMenu();\n          }}\n        />\n        <Search\n          onResultPicked={() => {\n            toggleMainMenu();\n          }}\n        />\n        <div className=\"auth-container\">\n          <Login />\n        </div>\n      </div>\n    </header>\n  );\n}\n","import React from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\nimport { PageContentContainer } from \"../ui/atoms/page-content\";\nimport { useGA } from \"../ga-context\";\nimport \"./index.scss\";\n\nconst SiteSearchForm = React.lazy(() => import(\"./form\"));\nconst SearchResults = React.lazy(() => import(\"./search-results\"));\n\nexport function SiteSearch() {\n  const isServer = typeof window === \"undefined\";\n  const ga = useGA();\n  const [searchParams] = useSearchParams();\n\n  const query = searchParams.get(\"q\");\n  const page = searchParams.get(\"page\");\n  React.useEffect(() => {\n    if (query) {\n      let title = `Search: \"${query}\"`;\n      if (page && page !== \"1\") {\n        title += ` (page ${page})`;\n      }\n      document.title = title;\n    } else {\n      document.title = \"No query, no results.\";\n    }\n  }, [query, page]);\n\n  const mountCounter = React.useRef(0);\n  React.useEffect(() => {\n    if (ga) {\n      if (mountCounter.current > 0) {\n        // 'dimension19' means it's a client-side navigation.\n        // I.e. not the initial load but the location has now changed.\n        // Note that in local development, where you use `localhost:3000`\n        // this will always be true because it's always client-side navigation.\n        ga(\"set\", \"dimension19\", \"Yes\");\n        ga(\"send\", {\n          hitType: \"pageview\",\n          location: window.location.toString(),\n        });\n      }\n      // By counting every time a document is mounted, we can use this to know if\n      // a client-side navigation happened.\n      mountCounter.current++;\n    }\n  }, [query, page, ga]);\n\n  return (\n    <div className=\"site-search main-page-content\">\n      <PageContentContainer>\n        {query ? (\n          <h1>\n            Search results for: <span className=\"query-string\">{query}</span>{\" \"}\n            {page && page !== \"1\" && `(page ${page})`}\n          </h1>\n        ) : (\n          <h1>No query, no results.</h1>\n        )}\n\n        {!isServer && (\n          <React.Suspense fallback={<p>Loading...</p>}>\n            <SiteSearchForm />\n          </React.Suspense>\n        )}\n\n        {!isServer && query && (\n          <React.Suspense fallback={<p>Loading...</p>}>\n            <SearchResults />\n          </React.Suspense>\n        )}\n      </PageContentContainer>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport { PageContentContainer } from \"../ui/atoms/page-content\";\nimport \"./index.scss\";\n\nconst FallbackLink = React.lazy(() => import(\"./fallback-link\"));\n\n// NOTE! To hack on this component, you have to use a trick to even get to this\n// unless you use the Express server on localhost:5000.\n// To get here, use http://localhost:3000/en-US/_404/Whatever/you/like\n// Now hot-reloading works and you can iterate faster.\n// Otherwise, you can use http://localhost:5000/en-US/docs/Whatever/you/like\n// (note the :5000 port) and that'll test it a bit more realistically.\n\nexport function PageNotFound() {\n  const location = useLocation();\n  const [url, setURL] = React.useState(\"\");\n\n  React.useEffect(() => {\n    // If we're in a useEffect, this means we're in a client-side rendering\n    // and in that case the current window.location is realistic.\n    // When it's server-side rendered, the URL is \"fake\" just to generate\n    // the \"empty template\" page.\n    setURL(location.pathname);\n  }, [location]);\n\n  return (\n    <div className=\"page-not-found\">\n      <PageContentContainer>\n        {/* This string should match the `pageTitle` set in ssr/render.js */}\n        <h1>Page not found</h1>\n\n        {url && (\n          <p className=\"sorry-message\">\n            Sorry, the page <code>{url}</code> could not be found.\n          </p>\n        )}\n\n        {url && (\n          <React.Suspense fallback={null}>\n            <FallbackLink url={url} />\n          </React.Suspense>\n        )}\n\n        <p>\n          <a href=\"/\">Go back to the home page</a>\n        </p>\n      </PageContentContainer>\n    </div>\n  );\n}\n","import React, { Suspense, lazy } from \"react\";\n\nimport { useUserData } from \"../user-context\";\n\n// We may or may not load any active banner. But if there's a small chance\n// that we might, it's best practice to not have to lazy-load the CSS\n// because lazy loading the CSS will put itself as blocking on the critical\n// rendering. So, basically, if there's a >0% chance that we might load\n// <ActiveBanner>, at least the CSS will be ready.\nimport \"./banner.scss\";\n\nimport { COMMON_SURVEY_ID } from \"./ids\";\n\nconst ActiveBanner = lazy(() => import(\"./active-banner\"));\n\n// Set a localStorage key with a timestamp the specified number of\n// days into the future. When the user dismisses a banner we use this\n// to prevent the redisplay of the banner for a while.\nfunction setEmbargoed(id: string, days: number) {\n  try {\n    let key = `banner.${id}.embargoed_until`;\n    localStorage.setItem(\n      key,\n      String(Date.now() + Math.round(days * 24 * 60 * 60 * 1000))\n    );\n  } catch (e) {\n    // If localStorage is not supported, then embargoes are not supported.\n  }\n}\n\n// See whether the specified id was passed to setEmbargoed() fewer than the\n// specified number of days ago. We check this before displaying a banner\n// so a user does not see a banner they recently dismissed.\nfunction isEmbargoed(id: string) {\n  try {\n    let key = `banner.${id}.embargoed_until`;\n    let value = localStorage.getItem(key);\n    // If it is not set, then the banner has never been dismissed\n    if (!value) {\n      return false;\n    }\n    // The value from localStorage is a timestamp that we compare to\n    // the current time\n    if (parseInt(value) > Date.now()) {\n      // If the timestamp is in the future then the banner has been\n      // dismissed and the embargo has not yet expired.\n      return true;\n    } else {\n      // Otherwise, the banner was dismissed, but the embargo has\n      // expired and we can show it again.\n      localStorage.removeItem(key);\n      return false;\n    }\n  } catch (e) {\n    // If localStorage is not supported, then the embargo feature\n    // just won't work\n    return false;\n  }\n}\n\nexport function Banner() {\n  const userData = useUserData();\n\n  if (!userData) {\n    return null;\n  }\n\n  const isEnabled = (id: string) =>\n    (userData.waffle.flags[id] || userData.waffle.switches[id]) &&\n    !isEmbargoed(id);\n\n  // The order of the if statements is important and it's our source of\n  // truth about which banner is \"more important\" than the other.\n\n  if (isEnabled(COMMON_SURVEY_ID)) {\n    return (\n      <Suspense fallback={null}>\n        <ActiveBanner\n          id={COMMON_SURVEY_ID}\n          onDismissed={() => {\n            setEmbargoed(COMMON_SURVEY_ID, 5);\n          }}\n        />\n      </Suspense>\n    );\n  }\n  return null;\n}\n","import React from \"react\";\n\nimport { PageContentContainer } from \"../ui/atoms/page-content\";\n\nconst SignInApp = React.lazy(() => import(\"./sign-in\"));\nconst SignUpApp = React.lazy(() => import(\"./sign-up\"));\n\nfunction Container({\n  children,\n  className,\n}: {\n  children: React.ReactNode;\n  className: string;\n}) {\n  const isServer = typeof window === \"undefined\";\n  const pageTitle = \"Sign in to MDN Web Docs\";\n  React.useEffect(() => {\n    document.title = pageTitle;\n  }, []);\n  return (\n    <PageContentContainer extraClasses={`auth-page-container ${className}`}>\n      {/* The reason for displaying this <h1> here (and for SignUp too)\n          is to avoid an unnecessary \"flicker\".\n          component here is loaded SSR and is immediately present.\n          Only the \"guts\" below is lazy loaded. By having the header already\n          present the page feels less flickery at a very affordable cost of\n          allowing this to be part of the main JS bundle.\n       */}\n      <h1 className=\"slab-highlight\">{pageTitle}</h1>\n      {!isServer && children}\n    </PageContentContainer>\n  );\n}\nexport function SignIn() {\n  return (\n    <Container className=\"sign-in\">\n      <React.Suspense fallback={<p>Loading...</p>}>\n        <SignInApp />\n      </React.Suspense>\n    </Container>\n  );\n}\nexport function SignUp() {\n  return (\n    <Container className=\"sign-up\">\n      <React.Suspense fallback={<p>Loading...</p>}>\n        <SignUpApp />\n      </React.Suspense>\n    </Container>\n  );\n}\n","import React from \"react\";\n\nimport { PageContentContainer } from \"../ui/atoms/page-content\";\n\nconst SettingsApp = React.lazy(() => import(\"./app\"));\n\nexport function Settings() {\n  const pageTitle = \"Account settings\";\n  React.useEffect(() => {\n    document.title = pageTitle;\n  }, []);\n  const isServer = typeof window === \"undefined\";\n  return (\n    <div className=\"settings\">\n      <PageContentContainer extraClasses=\"account-settings\">\n        {/* The reason for displaying this <h1> here\n          is to avoid an unnecessary \"flicker\".\n          component here is loaded SSR and is immediately present.\n          Only the \"guts\" below is lazy loaded. By having the header already\n          present the page feels less flickery at a very affordable cost of\n          allowing this to be part of the main JS bundle.\n       */}\n        <h1 className=\"slab-highlight\">{pageTitle}</h1>\n        {!isServer && (\n          <React.Suspense fallback={<p>Loading...</p>}>\n            <SettingsApp />\n          </React.Suspense>\n        )}\n      </PageContentContainer>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Routes, Route, useLocation } from \"react-router-dom\";\n\n// we include our base SASS here to ensure it is loaded\n// and applied before any component specific style\nimport \"./app.scss\";\n\nimport { CRUD_MODE } from \"./constants\";\nimport { Homepage } from \"./homepage\";\nimport { Document } from \"./document\";\nimport { A11yNav } from \"./ui/molecules/a11y-nav\";\nimport { Footer } from \"./ui/organisms/footer\";\nimport { Header } from \"./ui/organisms/header\";\nimport { SiteSearch } from \"./site-search\";\nimport { PageContentContainer } from \"./ui/atoms/page-content\";\nimport { PageNotFound } from \"./page-not-found\";\nimport { Banner } from \"./banners\";\nimport { SignIn, SignUp } from \"./auth\";\nimport { Settings } from \"./settings\";\n\nconst AllFlaws = React.lazy(() => import(\"./flaws\"));\nconst DocumentEdit = React.lazy(() => import(\"./document/forms/edit\"));\nconst DocumentCreate = React.lazy(() => import(\"./document/forms/create\"));\nconst DocumentManage = React.lazy(() => import(\"./document/forms/manage\"));\nconst WritersHomepage = React.lazy(() => import(\"./writers-homepage\"));\nconst Sitemap = React.lazy(() => import(\"./sitemap\"));\n\nconst isServer = typeof window === \"undefined\";\n\nfunction Layout({ pageType, children }) {\n  return (\n    <>\n      <A11yNav />\n      <div className={`page-wrapper ${pageType}`}>\n        <Header />\n        {children}\n      </div>\n      <Footer />\n      {!isServer && <Banner />}\n      {/* Shown on mobile when main navigation is expanded to provide a clear distinction between the foreground menu and the page content */}\n      <div className=\"page-overlay hidden\"></div>\n    </>\n  );\n}\n\nfunction StandardLayout({ children }) {\n  return <Layout pageType=\"standard-page\">{children}</Layout>;\n}\nfunction DocumentLayout({ children }) {\n  return <Layout pageType=\"document-page\">{children}</Layout>;\n}\n\n/** This component exists so you can dynamically change which sub-component to\n * render depending on the conditions. In particular, we need to be able to\n * render the <PageNotFound> component, in server-side rendering, if told to do\n * so. But if the client then changes the location (by clicking a <Link>\n * or a react-router navigate() call) we need to ignore the fact that it was\n * originally not found. Perhaps, this new location that the client is\n * requesting is going to work.\n */\nfunction PageOrPageNotFound({ pageNotFound, children }) {\n  // It's true by default if the SSR rendering says so.\n  const [notFound, setNotFound] = React.useState<boolean>(!!pageNotFound);\n  const { pathname } = useLocation();\n  const initialPathname = React.useRef(pathname);\n  React.useEffect(() => {\n    if (initialPathname.current && initialPathname.current !== pathname) {\n      setNotFound(false);\n    }\n  }, [pathname]);\n\n  return notFound ? (\n    <StandardLayout>\n      <PageNotFound />\n    </StandardLayout>\n  ) : (\n    children\n  );\n}\n\nfunction LoadingFallback({ message }: { message?: string }) {\n  return (\n    <StandardLayout>\n      <PageContentContainer>\n        {/* This extra minHeight is just so that the footer doesn't flicker\n          in and out as the fallback appears. */}\n        <p style={{ minHeight: 800 }}>{message || \"Loading...\"}</p>\n      </PageContentContainer>\n    </StandardLayout>\n  );\n}\n\nexport function App(appProps) {\n  // When preparing a build for use in the NPM package, CRUD_MODE is always true.\n  // But if the App is loaded from the code that builds the SPAs, then `isServer`\n  // is true. So you have to have `isServer && CRUD_MODE` at the same time.\n  const homePage =\n    !isServer && CRUD_MODE ? (\n      <Layout pageType=\"standard-page\">\n        <WritersHomepage />\n      </Layout>\n    ) : (\n      <PageOrPageNotFound pageNotFound={appProps.pageNotFound}>\n        <Layout pageType=\"standard-page\">\n          <Homepage {...appProps} />\n        </Layout>\n      </PageOrPageNotFound>\n    );\n\n  const routes = (\n    <Routes>\n      {/*\n        Note, this can only happen in local development.\n        In production, all traffic at `/` is redirected to at least\n        having a locale. So it'll be `/en-US` (for example) by the\n        time it hits any React code.\n       */}\n      <Route path=\"/\" element={homePage} />\n      <Route\n        path=\"/:locale/*\"\n        element={\n          <Routes>\n            {CRUD_MODE && (\n              <>\n                <Route\n                  path=\"/_flaws\"\n                  element={\n                    <StandardLayout>\n                      <AllFlaws />\n                    </StandardLayout>\n                  }\n                />\n                <Route\n                  path=\"/_edit/*\"\n                  element={\n                    <StandardLayout>\n                      <DocumentEdit />\n                    </StandardLayout>\n                  }\n                />\n\n                {/* The following two are not \"enabled\". I.e. no link to them.\n                    See https://github.com/mdn/yari/issues/1614\n                 */}\n                <Route\n                  path=\"/_create/*\"\n                  element={\n                    <StandardLayout>\n                      <DocumentCreate />\n                    </StandardLayout>\n                  }\n                />\n                <Route\n                  path=\"/_manage/*\"\n                  element={\n                    <StandardLayout>\n                      <DocumentManage />\n                    </StandardLayout>\n                  }\n                />\n\n                {/*\n                This route exclusively exists for development on the <PageNotFound>\n                component itself.\n                Because it's impossible to trigger a 404 when using the React dev\n                server, the one on localhost:3000, you can use this endpoint\n                to simulate it.\n                 */}\n                <Route\n                  path=\"/_404/*\"\n                  element={\n                    <StandardLayout>\n                      <PageNotFound />\n                    </StandardLayout>\n                  }\n                />\n\n                {/*\n                This route exclusively exists for development on the <Homepage>\n                component itself.\n                Normally, you get to the home page by NOT being in CRUD_MODE, but\n                if you want to use the hot-reloading app, it might be convenient\n                to be able to run it locally\n                 */}\n                <Route\n                  path=\"/_homepage/*\"\n                  element={\n                    <StandardLayout>\n                      <Homepage />\n                    </StandardLayout>\n                  }\n                />\n\n                <Route\n                  path=\"/_sitemap/*\"\n                  element={\n                    <StandardLayout>\n                      <Sitemap />\n                    </StandardLayout>\n                  }\n                />\n              </>\n            )}\n            <Route path=\"/\" element={homePage} />\n            <Route\n              path=\"/search\"\n              element={\n                <StandardLayout>\n                  <SiteSearch />\n                </StandardLayout>\n              }\n            />\n            <Route\n              path=\"/signin\"\n              element={\n                <StandardLayout>\n                  <SignIn />\n                </StandardLayout>\n              }\n            />\n            <Route\n              path=\"/signup\"\n              element={\n                <StandardLayout>\n                  <SignUp />\n                </StandardLayout>\n              }\n            />\n            <Route\n              path=\"/settings\"\n              element={\n                <StandardLayout>\n                  <Settings {...appProps} />\n                </StandardLayout>\n              }\n            />\n            <Route\n              path=\"/docs/*\"\n              element={\n                <PageOrPageNotFound pageNotFound={appProps.pageNotFound}>\n                  <DocumentLayout>\n                    <Document {...appProps} />\n                  </DocumentLayout>\n                </PageOrPageNotFound>\n              }\n            />\n            <Route\n              path=\"*\"\n              element={\n                <StandardLayout>\n                  <PageNotFound />\n                </StandardLayout>\n              }\n            />\n          </Routes>\n        }\n      />\n    </Routes>\n  );\n  /* This might look a bit odd but it's actually quite handy.\n   * This way, when rendering client-side, we wrap all the routes in\n   * <React.Suspense> but in server-side rendering that goes away.\n   */\n  return isServer ? (\n    routes\n  ) : (\n    <React.Suspense fallback={<LoadingFallback />}>{routes}</React.Suspense>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { App } from \"./app\";\nimport { GAProvider } from \"./ga-context\";\nimport { UserDataProvider } from \"./user-context\";\n\n// import * as serviceWorker from './serviceWorker';\n\nconst container = document.getElementById(\"root\");\nif (!container) {\n  throw new Error(\"missing root element\");\n}\n\n// The SSR rendering will put\n// a `<script>window.__data__ = JSON.parse(...)</script>` into the HTML.\n// If it's there, great, if it's not there, this'll be `undefined` the\n// components will know to fetch it with XHR.\n// TODO: When we have TS types fo `docData` this would become\n// something like `(window as any).__data__ as DocData`.\nconst docData = (window as any).__data__;\nconst pageNotFound = (window as any).__pageNotFound__;\nconst feedEntries = (window as any).__feedEntries__;\nconst possibleLocales = (window as any).__possibleLocales__;\n\nlet app = (\n  <GAProvider>\n    <UserDataProvider>\n      <Router>\n        <App\n          doc={docData}\n          pageNotFound={pageNotFound}\n          feedEntries={feedEntries}\n          possibleLocales={possibleLocales}\n        />\n      </Router>\n    </UserDataProvider>\n  </GAProvider>\n);\n\napp = <React.StrictMode>{app}</React.StrictMode>;\n\nif (container.firstElementChild) {\n  if (window.origin !== \"https://translate.googleusercontent.com\") {\n    ReactDOM.hydrate(app, container);\n  }\n} else {\n  ReactDOM.render(app, container);\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}